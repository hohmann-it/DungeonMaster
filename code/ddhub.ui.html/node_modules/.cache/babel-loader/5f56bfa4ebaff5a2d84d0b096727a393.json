{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { keys, KeyStroke, scout } from '../../index';\nexport default class ShrinkNavigationKeyStroke extends KeyStroke {\n  constructor(handle) {\n    super();\n    this.field = handle;\n    this.desktop = handle.session.desktop;\n    this.ctrl = true;\n    // FF und Safari use different key codes for this key.\n    this.which = [keys.forBrowser(keys.ANGULAR_BRACKET)];\n    this.renderingHints.$drawingArea = ($drawingArea, event) => this.desktop.$container;\n    this.inheritAccessibility = false;\n  }\n  _accept(event) {\n    // Safari changes the code when ctrl is pressed (it stays the same with cmd).\n    return super._accept(event) || KeyStroke.acceptModifiers(this, event) && scout.isOneOf(event.which, keys.forBrowser(keys.ANGULAR_BRACKET, 'ctrl'));\n  }\n  _isEnabled() {\n    let enabled = super._isEnabled();\n    return enabled && this.field.leftVisible;\n  }\n  handle(event) {\n    this.desktop.shrinkNavigation();\n  }\n  _postRenderKeyBox($drawingArea, $keyBox) {\n    let handleOffset,\n      keyBoxLeft,\n      keyBoxTop,\n      handle = this.field;\n    $keyBox.addClass('navigation-handle-key-box left');\n    handleOffset = handle.$left.offsetTo(this.desktop.$container);\n    keyBoxLeft = handleOffset.left - $keyBox.outerWidth(true);\n    keyBoxTop = handleOffset.top;\n    $keyBox.cssLeft(keyBoxLeft).cssTop(keyBoxTop);\n  }\n}","map":{"version":3,"names":["keys","KeyStroke","scout","ShrinkNavigationKeyStroke","constructor","handle","field","desktop","session","ctrl","which","forBrowser","ANGULAR_BRACKET","renderingHints","$drawingArea","event","$container","inheritAccessibility","_accept","acceptModifiers","isOneOf","_isEnabled","enabled","leftVisible","shrinkNavigation","_postRenderKeyBox","$keyBox","handleOffset","keyBoxLeft","keyBoxTop","addClass","$left","offsetTo","left","outerWidth","top","cssLeft","cssTop"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/navigation/ShrinkNavigationKeyStroke.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {keys, KeyStroke, scout} from '../../index';\n\nexport default class ShrinkNavigationKeyStroke extends KeyStroke {\n\n  constructor(handle) {\n    super();\n    this.field = handle;\n    this.desktop = handle.session.desktop;\n    this.ctrl = true;\n    // FF und Safari use different key codes for this key.\n    this.which = [keys.forBrowser(keys.ANGULAR_BRACKET)];\n    this.renderingHints.$drawingArea = ($drawingArea, event) => this.desktop.$container;\n    this.inheritAccessibility = false;\n  }\n\n  _accept(event) {\n    // Safari changes the code when ctrl is pressed (it stays the same with cmd).\n    return super._accept(event) ||\n      (KeyStroke.acceptModifiers(this, event) && scout.isOneOf(event.which, keys.forBrowser(keys.ANGULAR_BRACKET, 'ctrl')));\n  }\n\n  _isEnabled() {\n    let enabled = super._isEnabled();\n    return enabled && this.field.leftVisible;\n  }\n\n  handle(event) {\n    this.desktop.shrinkNavigation();\n  }\n\n  _postRenderKeyBox($drawingArea, $keyBox) {\n    let handleOffset, keyBoxLeft, keyBoxTop,\n      handle = this.field;\n\n    $keyBox.addClass('navigation-handle-key-box left');\n\n    handleOffset = handle.$left.offsetTo(this.desktop.$container);\n    keyBoxLeft = handleOffset.left - $keyBox.outerWidth(true);\n    keyBoxTop = handleOffset.top;\n\n    $keyBox.cssLeft(keyBoxLeft)\n      .cssTop(keyBoxTop);\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,IAAI,EAAEC,SAAS,EAAEC,KAAK,QAAO,aAAa;AAElD,eAAe,MAAMC,yBAAyB,SAASF,SAAS,CAAC;EAE/DG,WAAW,CAACC,MAAM,EAAE;IAClB,KAAK,EAAE;IACP,IAAI,CAACC,KAAK,GAAGD,MAAM;IACnB,IAAI,CAACE,OAAO,GAAGF,MAAM,CAACG,OAAO,CAACD,OAAO;IACrC,IAAI,CAACE,IAAI,GAAG,IAAI;IAChB;IACA,IAAI,CAACC,KAAK,GAAG,CAACV,IAAI,CAACW,UAAU,CAACX,IAAI,CAACY,eAAe,CAAC,CAAC;IACpD,IAAI,CAACC,cAAc,CAACC,YAAY,GAAG,CAACA,YAAY,EAAEC,KAAK,KAAK,IAAI,CAACR,OAAO,CAACS,UAAU;IACnF,IAAI,CAACC,oBAAoB,GAAG,KAAK;EACnC;EAEAC,OAAO,CAACH,KAAK,EAAE;IACb;IACA,OAAO,KAAK,CAACG,OAAO,CAACH,KAAK,CAAC,IACxBd,SAAS,CAACkB,eAAe,CAAC,IAAI,EAAEJ,KAAK,CAAC,IAAIb,KAAK,CAACkB,OAAO,CAACL,KAAK,CAACL,KAAK,EAAEV,IAAI,CAACW,UAAU,CAACX,IAAI,CAACY,eAAe,EAAE,MAAM,CAAC,CAAE;EACzH;EAEAS,UAAU,GAAG;IACX,IAAIC,OAAO,GAAG,KAAK,CAACD,UAAU,EAAE;IAChC,OAAOC,OAAO,IAAI,IAAI,CAAChB,KAAK,CAACiB,WAAW;EAC1C;EAEAlB,MAAM,CAACU,KAAK,EAAE;IACZ,IAAI,CAACR,OAAO,CAACiB,gBAAgB,EAAE;EACjC;EAEAC,iBAAiB,CAACX,YAAY,EAAEY,OAAO,EAAE;IACvC,IAAIC,YAAY;MAAEC,UAAU;MAAEC,SAAS;MACrCxB,MAAM,GAAG,IAAI,CAACC,KAAK;IAErBoB,OAAO,CAACI,QAAQ,CAAC,gCAAgC,CAAC;IAElDH,YAAY,GAAGtB,MAAM,CAAC0B,KAAK,CAACC,QAAQ,CAAC,IAAI,CAACzB,OAAO,CAACS,UAAU,CAAC;IAC7DY,UAAU,GAAGD,YAAY,CAACM,IAAI,GAAGP,OAAO,CAACQ,UAAU,CAAC,IAAI,CAAC;IACzDL,SAAS,GAAGF,YAAY,CAACQ,GAAG;IAE5BT,OAAO,CAACU,OAAO,CAACR,UAAU,CAAC,CACxBS,MAAM,CAACR,SAAS,CAAC;EACtB;AACF"},"metadata":{},"sourceType":"module"}