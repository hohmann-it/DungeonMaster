{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { LogicalGridMatrixCell, LogicalGridMatrixCursor } from '../../../index';\nexport default class LogicalGridMatrix {\n  constructor(cursor) {\n    this._cursor = cursor;\n    this._assignedCells = [];\n  }\n  getColumnCount() {\n    return this._cursor.columnCount;\n  }\n  getRowCount() {\n    return this._cursor.rowCount;\n  }\n  _setAssignedCell(index, val) {\n    if (!this._assignedCells[index.x]) {\n      this._assignedCells[index.x] = [];\n    }\n    this._assignedCells[index.x][index.y] = val;\n  }\n  _getAssignedCell(index) {\n    if (!this._assignedCells[index.x]) {\n      return null;\n    }\n    return this._assignedCells[index.x][index.y];\n  }\n  _nextFree(w, h) {\n    if (!this._cursor.increment()) {\n      return false;\n    }\n    let currentIndex = this._cursor.currentIndex();\n    if (!this._isAllCellFree(currentIndex.x, currentIndex.y, w, h)) {\n      if (!this._getAssignedCell(currentIndex)) {\n        this._setAssignedCell(currentIndex, new LogicalGridMatrixCell());\n      }\n      return this._nextFree(w, h);\n    }\n    return true;\n  }\n  _isAllCellFree(x, y, w, h) {\n    if (x + w > this._cursor.startX + this._cursor.columnCount || y + h > this._cursor.startY + this._cursor.rowCount) {\n      return false;\n    }\n    return this._assignedCells.slice(x, x + w).every(valX => {\n      return (valX || []).slice(y, y + h).every(valY => {\n        return !valY;\n      });\n    });\n  }\n  toString() {\n    let ret = '----Group Box Grid Matrix [orientation=' + this._cursor.orientation + ', columnCount=' + this.getColumnCount() + ', rowCount=' + this.getRowCount() + ']--------------\\n';\n    let tempCursor = new LogicalGridMatrixCursor(0, 0, this.getColumnCount(), this.getRowCount(), this._cursor.orientation);\n    while (tempCursor.increment()) {\n      let cell = this._getAssignedCell(tempCursor.currentIndex());\n      ret += 'cell[' + tempCursor.currentIndex().x + ', ' + tempCursor.currentIndex().y + '] ';\n      if (!cell) {\n        ret += 'NULL';\n      } else if (!cell.widget) {\n        ret += 'Placeholder';\n      } else {\n        ret += cell.widget + (cell.widget ? ', [' + cell.widget.label + ']' : '');\n      }\n      ret += '\\n';\n    }\n    return ret;\n  }\n}","map":{"version":3,"names":["LogicalGridMatrixCell","LogicalGridMatrixCursor","LogicalGridMatrix","constructor","cursor","_cursor","_assignedCells","getColumnCount","columnCount","getRowCount","rowCount","_setAssignedCell","index","val","x","y","_getAssignedCell","_nextFree","w","h","increment","currentIndex","_isAllCellFree","startX","startY","slice","every","valX","valY","toString","ret","orientation","tempCursor","cell","widget","label"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/layout/logicalgrid/matrix/LogicalGridMatrix.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {LogicalGridMatrixCell, LogicalGridMatrixCursor} from '../../../index';\n\nexport default class LogicalGridMatrix {\n\n  constructor(cursor) {\n    this._cursor = cursor;\n    this._assignedCells = [];\n  }\n\n  getColumnCount() {\n    return this._cursor.columnCount;\n  }\n\n  getRowCount() {\n    return this._cursor.rowCount;\n  }\n\n  _setAssignedCell(index, val) {\n    if (!this._assignedCells[index.x]) {\n      this._assignedCells[index.x] = [];\n    }\n    this._assignedCells[index.x][index.y] = val;\n  }\n\n  _getAssignedCell(index) {\n    if (!this._assignedCells[index.x]) {\n      return null;\n    }\n    return this._assignedCells[index.x][index.y];\n  }\n\n  _nextFree(w, h) {\n    if (!this._cursor.increment()) {\n      return false;\n    }\n    let currentIndex = this._cursor.currentIndex();\n    if (!this._isAllCellFree(currentIndex.x, currentIndex.y, w, h)) {\n      if (!this._getAssignedCell(currentIndex)) {\n        this._setAssignedCell(currentIndex, new LogicalGridMatrixCell());\n      }\n      return this._nextFree(w, h);\n    }\n    return true;\n  }\n\n  _isAllCellFree(x, y, w, h) {\n    if (x + w > this._cursor.startX + this._cursor.columnCount || y + h > this._cursor.startY + this._cursor.rowCount) {\n      return false;\n    }\n    return this._assignedCells.slice(x, x + w).every(valX => {\n      return (valX || []).slice(y, y + h).every(valY => {\n        return !valY;\n      });\n    });\n  }\n\n  toString() {\n    let ret = '----Group Box Grid Matrix [orientation=' + this._cursor.orientation + ', columnCount=' + this.getColumnCount() + ', rowCount=' + this.getRowCount() + ']--------------\\n';\n    let tempCursor = new LogicalGridMatrixCursor(0, 0, this.getColumnCount(), this.getRowCount(), this._cursor.orientation);\n    while (tempCursor.increment()) {\n      let cell = this._getAssignedCell(tempCursor.currentIndex());\n      ret += 'cell[' + tempCursor.currentIndex().x + ', ' + tempCursor.currentIndex().y + '] ';\n      if (!cell) {\n        ret += 'NULL';\n      } else if (!cell.widget) {\n        ret += 'Placeholder';\n      } else {\n        ret += cell.widget + (cell.widget ? ', [' + cell.widget.label + ']' : '');\n      }\n      ret += '\\n';\n    }\n    return ret;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}