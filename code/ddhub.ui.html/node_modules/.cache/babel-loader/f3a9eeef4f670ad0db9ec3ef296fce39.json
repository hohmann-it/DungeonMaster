{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, Dimension, HtmlComponent } from '../index';\nexport default class CarouselLayout extends AbstractLayout {\n  constructor(carousel) {\n    super();\n    this.carousel = carousel;\n  }\n  layout($container) {\n    // recalculate style transformation after layout\n    this.carousel.recalcTransformation();\n    let filmstripSize = this.carousel.htmlComp.availableSize().subtract(this.carousel.htmlComp.insets()).subtract(this.carousel.htmlCompFilmstrip.margins());\n    let itemSize = this.carousel.htmlComp.availableSize().subtract(this.carousel.htmlComp.insets()).subtract(this.carousel.htmlCompFilmstrip.margins());\n    if (this.carousel.statusEnabled && this.carousel.htmlCompStatus) {\n      let carouselStatusSize = this.carousel.htmlCompStatus.size().add(this.carousel.htmlCompStatus.margins());\n      filmstripSize.height -= carouselStatusSize.height;\n      itemSize.height -= carouselStatusSize.height;\n    }\n    let $carouselItems = this.carousel.$carouselItems;\n    filmstripSize.width = $carouselItems.length * filmstripSize.width;\n    this.carousel.htmlCompFilmstrip.setSize(filmstripSize);\n    $carouselItems.forEach(e => {\n      let htmlCarouselItem = HtmlComponent.get(e);\n      htmlCarouselItem.setSize(itemSize);\n    });\n  }\n  preferredLayoutSize($container) {\n    let currentIndex = this.carousel.currentItem;\n    let dim = new Dimension(1, 1);\n    if (currentIndex < this.carousel.$carouselItems.length && currentIndex >= 0) {\n      dim = HtmlComponent.get(this.carousel.$carouselItems[currentIndex]).prefSize();\n    }\n    dim.height += this.carousel.htmlCompStatus.size().height;\n    return dim;\n  }\n}","map":{"version":3,"names":["AbstractLayout","Dimension","HtmlComponent","CarouselLayout","constructor","carousel","layout","$container","recalcTransformation","filmstripSize","htmlComp","availableSize","subtract","insets","htmlCompFilmstrip","margins","itemSize","statusEnabled","htmlCompStatus","carouselStatusSize","size","add","height","$carouselItems","width","length","setSize","forEach","e","htmlCarouselItem","get","preferredLayoutSize","currentIndex","currentItem","dim","prefSize"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/carousel/CarouselLayout.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, Dimension, HtmlComponent} from '../index';\n\nexport default class CarouselLayout extends AbstractLayout {\n\n  constructor(carousel) {\n    super();\n\n    this.carousel = carousel;\n  }\n\n  layout($container) {\n    // recalculate style transformation after layout\n    this.carousel.recalcTransformation();\n\n    let filmstripSize = this.carousel.htmlComp.availableSize()\n      .subtract(this.carousel.htmlComp.insets())\n      .subtract(this.carousel.htmlCompFilmstrip.margins());\n    let itemSize = this.carousel.htmlComp.availableSize()\n      .subtract(this.carousel.htmlComp.insets())\n      .subtract(this.carousel.htmlCompFilmstrip.margins());\n\n    if (this.carousel.statusEnabled && this.carousel.htmlCompStatus) {\n      let carouselStatusSize = this.carousel.htmlCompStatus.size().add(this.carousel.htmlCompStatus.margins());\n\n      filmstripSize.height -= carouselStatusSize.height;\n      itemSize.height -= carouselStatusSize.height;\n    }\n\n    let $carouselItems = this.carousel.$carouselItems;\n    filmstripSize.width = $carouselItems.length * filmstripSize.width;\n    this.carousel.htmlCompFilmstrip.setSize(filmstripSize);\n\n    $carouselItems.forEach(e => {\n      let htmlCarouselItem = HtmlComponent.get(e);\n      htmlCarouselItem.setSize(itemSize);\n    });\n  }\n\n  preferredLayoutSize($container) {\n    let currentIndex = this.carousel.currentItem;\n    let dim = new Dimension(1, 1);\n    if (currentIndex < this.carousel.$carouselItems.length && currentIndex >= 0) {\n      dim = HtmlComponent.get(this.carousel.$carouselItems[currentIndex]).prefSize();\n    }\n    dim.height += this.carousel.htmlCompStatus.size().height;\n    return dim;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,cAAc,EAAEC,SAAS,EAAEC,aAAa,QAAO,UAAU;AAEjE,eAAe,MAAMC,cAAc,SAASH,cAAc,CAAC;EAEzDI,WAAW,CAACC,QAAQ,EAAE;IACpB,KAAK,EAAE;IAEP,IAAI,CAACA,QAAQ,GAAGA,QAAQ;EAC1B;EAEAC,MAAM,CAACC,UAAU,EAAE;IACjB;IACA,IAAI,CAACF,QAAQ,CAACG,oBAAoB,EAAE;IAEpC,IAAIC,aAAa,GAAG,IAAI,CAACJ,QAAQ,CAACK,QAAQ,CAACC,aAAa,EAAE,CACvDC,QAAQ,CAAC,IAAI,CAACP,QAAQ,CAACK,QAAQ,CAACG,MAAM,EAAE,CAAC,CACzCD,QAAQ,CAAC,IAAI,CAACP,QAAQ,CAACS,iBAAiB,CAACC,OAAO,EAAE,CAAC;IACtD,IAAIC,QAAQ,GAAG,IAAI,CAACX,QAAQ,CAACK,QAAQ,CAACC,aAAa,EAAE,CAClDC,QAAQ,CAAC,IAAI,CAACP,QAAQ,CAACK,QAAQ,CAACG,MAAM,EAAE,CAAC,CACzCD,QAAQ,CAAC,IAAI,CAACP,QAAQ,CAACS,iBAAiB,CAACC,OAAO,EAAE,CAAC;IAEtD,IAAI,IAAI,CAACV,QAAQ,CAACY,aAAa,IAAI,IAAI,CAACZ,QAAQ,CAACa,cAAc,EAAE;MAC/D,IAAIC,kBAAkB,GAAG,IAAI,CAACd,QAAQ,CAACa,cAAc,CAACE,IAAI,EAAE,CAACC,GAAG,CAAC,IAAI,CAAChB,QAAQ,CAACa,cAAc,CAACH,OAAO,EAAE,CAAC;MAExGN,aAAa,CAACa,MAAM,IAAIH,kBAAkB,CAACG,MAAM;MACjDN,QAAQ,CAACM,MAAM,IAAIH,kBAAkB,CAACG,MAAM;IAC9C;IAEA,IAAIC,cAAc,GAAG,IAAI,CAAClB,QAAQ,CAACkB,cAAc;IACjDd,aAAa,CAACe,KAAK,GAAGD,cAAc,CAACE,MAAM,GAAGhB,aAAa,CAACe,KAAK;IACjE,IAAI,CAACnB,QAAQ,CAACS,iBAAiB,CAACY,OAAO,CAACjB,aAAa,CAAC;IAEtDc,cAAc,CAACI,OAAO,CAACC,CAAC,IAAI;MAC1B,IAAIC,gBAAgB,GAAG3B,aAAa,CAAC4B,GAAG,CAACF,CAAC,CAAC;MAC3CC,gBAAgB,CAACH,OAAO,CAACV,QAAQ,CAAC;IACpC,CAAC,CAAC;EACJ;EAEAe,mBAAmB,CAACxB,UAAU,EAAE;IAC9B,IAAIyB,YAAY,GAAG,IAAI,CAAC3B,QAAQ,CAAC4B,WAAW;IAC5C,IAAIC,GAAG,GAAG,IAAIjC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B,IAAI+B,YAAY,GAAG,IAAI,CAAC3B,QAAQ,CAACkB,cAAc,CAACE,MAAM,IAAIO,YAAY,IAAI,CAAC,EAAE;MAC3EE,GAAG,GAAGhC,aAAa,CAAC4B,GAAG,CAAC,IAAI,CAACzB,QAAQ,CAACkB,cAAc,CAACS,YAAY,CAAC,CAAC,CAACG,QAAQ,EAAE;IAChF;IACAD,GAAG,CAACZ,MAAM,IAAI,IAAI,CAACjB,QAAQ,CAACa,cAAc,CAACE,IAAI,EAAE,CAACE,MAAM;IACxD,OAAOY,GAAG;EACZ;AACF"},"metadata":{},"sourceType":"module"}