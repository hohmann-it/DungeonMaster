{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, HtmlComponent, HtmlEnvironment } from '../../../index';\n\n/**\n * This layout only layouts the INPUT and DIV part of the multi-line smart-field, not the entire form-field.\n */\nexport default class SmartFieldMultilineLayout extends AbstractLayout {\n  constructor(smartField) {\n    super();\n    this.smartField = smartField;\n    this._initDefaults();\n    this.htmlPropertyChangeHandler = this._onHtmlEnvironmentPropertyChange.bind(this);\n    HtmlEnvironment.get().on('propertyChange', this.htmlPropertyChangeHandler);\n    this.smartField.one('remove', () => {\n      HtmlEnvironment.get().off('propertyChange', this.htmlPropertyChangeHandler);\n    });\n  }\n  _initDefaults() {\n    this.rowHeight = HtmlEnvironment.get().formRowHeight;\n  }\n  _onHtmlEnvironmentPropertyChange() {\n    this._initDefaults();\n    this.smartField.invalidateLayoutTree();\n  }\n  layout($container) {\n    let htmlContainer = HtmlComponent.get($container),\n      $input = $container.children('.multiline-input'),\n      $lines = $container.children('.multiline-lines'),\n      innerSize = htmlContainer.availableSize().subtract(htmlContainer.insets());\n    $input.cssHeight(this.rowHeight);\n    $lines.cssHeight(innerSize.height - this.rowHeight);\n  }\n}","map":{"version":3,"names":["AbstractLayout","HtmlComponent","HtmlEnvironment","SmartFieldMultilineLayout","constructor","smartField","_initDefaults","htmlPropertyChangeHandler","_onHtmlEnvironmentPropertyChange","bind","get","on","one","off","rowHeight","formRowHeight","invalidateLayoutTree","layout","$container","htmlContainer","$input","children","$lines","innerSize","availableSize","subtract","insets","cssHeight","height"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/form/fields/smartfield/SmartFieldMultilineLayout.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, HtmlComponent, HtmlEnvironment} from '../../../index';\n\n/**\n * This layout only layouts the INPUT and DIV part of the multi-line smart-field, not the entire form-field.\n */\nexport default class SmartFieldMultilineLayout extends AbstractLayout {\n\n  constructor(smartField) {\n    super();\n    this.smartField = smartField;\n\n    this._initDefaults();\n\n    this.htmlPropertyChangeHandler = this._onHtmlEnvironmentPropertyChange.bind(this);\n    HtmlEnvironment.get().on('propertyChange', this.htmlPropertyChangeHandler);\n    this.smartField.one('remove', () => {\n      HtmlEnvironment.get().off('propertyChange', this.htmlPropertyChangeHandler);\n    });\n  }\n\n  _initDefaults() {\n    this.rowHeight = HtmlEnvironment.get().formRowHeight;\n  }\n\n  _onHtmlEnvironmentPropertyChange() {\n    this._initDefaults();\n    this.smartField.invalidateLayoutTree();\n  }\n\n  layout($container) {\n    let htmlContainer = HtmlComponent.get($container),\n      $input = $container.children('.multiline-input'),\n      $lines = $container.children('.multiline-lines'),\n      innerSize = htmlContainer.availableSize()\n        .subtract(htmlContainer.insets());\n\n    $input.cssHeight(this.rowHeight);\n    $lines.cssHeight(innerSize.height - this.rowHeight);\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,cAAc,EAAEC,aAAa,EAAEC,eAAe,QAAO,gBAAgB;;AAE7E;AACA;AACA;AACA,eAAe,MAAMC,yBAAyB,SAASH,cAAc,CAAC;EAEpEI,WAAW,CAACC,UAAU,EAAE;IACtB,KAAK,EAAE;IACP,IAAI,CAACA,UAAU,GAAGA,UAAU;IAE5B,IAAI,CAACC,aAAa,EAAE;IAEpB,IAAI,CAACC,yBAAyB,GAAG,IAAI,CAACC,gCAAgC,CAACC,IAAI,CAAC,IAAI,CAAC;IACjFP,eAAe,CAACQ,GAAG,EAAE,CAACC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAACJ,yBAAyB,CAAC;IAC1E,IAAI,CAACF,UAAU,CAACO,GAAG,CAAC,QAAQ,EAAE,MAAM;MAClCV,eAAe,CAACQ,GAAG,EAAE,CAACG,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAACN,yBAAyB,CAAC;IAC7E,CAAC,CAAC;EACJ;EAEAD,aAAa,GAAG;IACd,IAAI,CAACQ,SAAS,GAAGZ,eAAe,CAACQ,GAAG,EAAE,CAACK,aAAa;EACtD;EAEAP,gCAAgC,GAAG;IACjC,IAAI,CAACF,aAAa,EAAE;IACpB,IAAI,CAACD,UAAU,CAACW,oBAAoB,EAAE;EACxC;EAEAC,MAAM,CAACC,UAAU,EAAE;IACjB,IAAIC,aAAa,GAAGlB,aAAa,CAACS,GAAG,CAACQ,UAAU,CAAC;MAC/CE,MAAM,GAAGF,UAAU,CAACG,QAAQ,CAAC,kBAAkB,CAAC;MAChDC,MAAM,GAAGJ,UAAU,CAACG,QAAQ,CAAC,kBAAkB,CAAC;MAChDE,SAAS,GAAGJ,aAAa,CAACK,aAAa,EAAE,CACtCC,QAAQ,CAACN,aAAa,CAACO,MAAM,EAAE,CAAC;IAErCN,MAAM,CAACO,SAAS,CAAC,IAAI,CAACb,SAAS,CAAC;IAChCQ,MAAM,CAACK,SAAS,CAACJ,SAAS,CAACK,MAAM,GAAG,IAAI,CAACd,SAAS,CAAC;EACrD;AACF"},"metadata":{},"sourceType":"module"}