{"ast":null,"code":"function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/*\n * Copyright (c) 2010-2022 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * https://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { Action, HtmlComponent, KeyStrokeContext, NullLayout, scout, styles, Table, TableControlActionKeyStroke, TableControlCloseKeyStroke } from '../../index';\nexport default class TableControl extends Action {\n  constructor() {\n    super();\n    this.tableFooter = null;\n    this.contentRendered = false;\n    this.height = null;\n    this.animateDuration = null;\n    this.resizerVisible = true;\n    this.toggleAction = true;\n    this.showTooltipWhenSelected = false;\n  }\n  _init(model) {\n    this.parent = model.parent;\n    this.table = this.getTable();\n    super._init(model);\n    // retain the size with 'dense' in case we're in dense mode\n    this.denseClass = this.session.desktop.dense ? ' dense' : '';\n    TableControl.CONTAINER_SIZE = styles.getSize('table-control-container' + this.denseClass, 'height', 'height', TableControl.CONTAINER_SIZE);\n    this.height = TableControl.CONTAINER_SIZE;\n    this.animateDuration = TableControl.CONTAINER_ANIMATE_DURATION;\n    this._setSelected(this.selected);\n  }\n\n  /**\n   * @override\n   */\n  _initKeyStrokeContext() {\n    super._initKeyStrokeContext();\n    this.tableControlKeyStrokeContext = this._createKeyStrokeContextForTableControl();\n  }\n  _createKeyStrokeContextForTableControl() {\n    let keyStrokeContext = new KeyStrokeContext();\n    keyStrokeContext.$scopeTarget = () => this.tableFooter.$controlContent;\n    keyStrokeContext.$bindTarget = () => this.tableFooter.$controlContent;\n    keyStrokeContext.registerKeyStroke(new TableControlCloseKeyStroke(this));\n    return keyStrokeContext;\n  }\n  _createLayout() {\n    return new NullLayout();\n  }\n  _render() {\n    let classes = 'table-control ';\n    if (this.cssClass) {\n      classes += this.cssClass + '-table-control';\n    }\n    this.$container = this.$parent.appendDiv(classes).on('mousedown', this._onMouseDown.bind(this)).data('control', this);\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(this._createLayout());\n  }\n  remove() {\n    this.removeContent();\n    super.remove();\n  }\n  _renderContent($parent) {\n    // to be implemented by subclass\n  }\n  _removeContent() {\n    // to be implemented by subclass\n  }\n  removeContent() {\n    if (this.contentRendered) {\n      this._removeContent();\n      if (this.cssClass) {\n        this.tableFooter.$controlContainer.removeClass(this.cssClass + '-table-control-container');\n        this.tableFooter.$controlContent.removeClass(this.cssClass + '-table-control-content');\n      }\n      this.session.keyStrokeManager.uninstallKeyStrokeContext(this.tableControlKeyStrokeContext);\n      this.contentRendered = false;\n    }\n  }\n\n  /**\n   * Renders the content if not already rendered.<br>\n   * Opens the container if the container is not already open.<br>\n   * Does nothing if the content is not available yet to -> don't open container if content is not rendered yet to prevent blank container or laggy opening.<br>\n   * Does nothing if the control is not selected.\n   */\n  renderContent() {\n    if (!this.contentRendered && !this.isContentAvailable()) {\n      return;\n    }\n    if (!this.selected) {\n      return;\n    }\n    if (!this.tableFooter.open) {\n      this.tableFooter.openControlContainer(this);\n    }\n    if (!this.contentRendered) {\n      if (this.cssClass) {\n        this.tableFooter.$controlContainer.addClass(this.cssClass + '-table-control-container');\n        this.tableFooter.$controlContent.addClass(this.cssClass + '-table-control-content');\n      }\n      this.tableFooter.$controlContent.data('control', this);\n      this._renderContent(this.tableFooter.$controlContent);\n      this.session.keyStrokeManager.installKeyStrokeContext(this.tableControlKeyStrokeContext);\n      if (this.htmlComp) {\n        this.htmlComp.invalidateLayoutTree(false);\n      }\n      this.contentRendered = true;\n    }\n  }\n\n  /**\n   * @override\n   */\n  get$Scrollable() {\n    return this.$contentContainer;\n  }\n  _renderSelected(selected, options) {\n    selected = scout.nvl(selected, this.selected);\n    options = $.extend({}, {\n      closeWhenUnselected: true\n    }, options);\n    this.$container.select(selected);\n    if (selected) {\n      this.tableFooter.onControlSelected(this);\n      this.renderContent();\n    } else {\n      // Don't modify the state initially, only on property change events\n      if (this.rendered) {\n        if (options.closeWhenUnselected && this === this.tableFooter.selectedControl) {\n          // Don't remove immediately, wait for the animation to finish (handled by onControlContainerClosed)\n          this.tableFooter.onControlSelected(null);\n          this.tableFooter.closeControlContainer(this, options);\n        } else {\n          this.removeContent();\n        }\n      }\n    }\n    this._updateTooltip();\n  }\n\n  /**\n   * Returns true if the table control may be displayed (opened).\n   */\n  isContentAvailable() {\n    return true;\n  }\n  toggle() {\n    if (!this.enabledComputed) {\n      return;\n    }\n    if (this.tableFooter.selectedControl === this) {\n      this.setSelected(false);\n    } else {\n      this.setSelected(true);\n    }\n  }\n  setSelected(selected, options) {\n    if (selected && !this.visible) {\n      return;\n    }\n    if (selected === this.selected) {\n      return;\n    }\n    if (this.tableFooter && this.tableFooter.selectedControl && this.tableFooter.selectedControl !== this) {\n      this.tableFooter.selectedControl.setSelected(false, {\n        closeWhenUnselected: false\n      });\n    }\n\n    // Instead of calling parent.setSelected(), we manually execute the required code. Otherwise\n    // we would not be able to pass 'closeWhenUnselected' to _renderSelected().\n    this._setSelected(selected);\n    options = $.extend({}, {\n      closeWhenUnselected: true\n    }, options);\n    if (this.rendered) {\n      this._renderSelected(selected, options);\n    } else if (options.closeWhenUnselected && this.tableFooter && this === this.tableFooter.selectedControl && !selected) {\n      this.tableFooter.onControlSelected(null);\n    }\n  }\n  _setSelected(selected) {\n    // Does not nothing more than the default but allows for extension by a subclass\n    this._setProperty('selected', selected);\n  }\n  _configureTooltip() {\n    let options = super._configureTooltip();\n    options.cssClass = 'table-control-tooltip';\n    return options;\n  }\n  _onMouseDown() {\n    this.toggle();\n  }\n  onControlContainerOpened() {\n    // nop\n  }\n  onControlContainerClosed() {\n    this.removeContent();\n  }\n\n  /**\n   * @override Action.js\n   */\n  _createActionKeyStroke() {\n    return new TableControlActionKeyStroke(this);\n  }\n  getTable() {\n    let parent = this.parent;\n    while (parent) {\n      if (parent instanceof Table) {\n        return parent;\n      }\n      parent = parent.parent;\n    }\n    return null;\n  }\n}\n_defineProperty(TableControl, \"CONTAINER_SIZE\", 345);\n_defineProperty(TableControl, \"CONTAINER_ANIMATE_DURATION\", 350);","map":{"version":3,"names":["Action","HtmlComponent","KeyStrokeContext","NullLayout","scout","styles","Table","TableControlActionKeyStroke","TableControlCloseKeyStroke","TableControl","constructor","tableFooter","contentRendered","height","animateDuration","resizerVisible","toggleAction","showTooltipWhenSelected","_init","model","parent","table","getTable","denseClass","session","desktop","dense","CONTAINER_SIZE","getSize","CONTAINER_ANIMATE_DURATION","_setSelected","selected","_initKeyStrokeContext","tableControlKeyStrokeContext","_createKeyStrokeContextForTableControl","keyStrokeContext","$scopeTarget","$controlContent","$bindTarget","registerKeyStroke","_createLayout","_render","classes","cssClass","$container","$parent","appendDiv","on","_onMouseDown","bind","data","htmlComp","install","setLayout","remove","removeContent","_renderContent","_removeContent","$controlContainer","removeClass","keyStrokeManager","uninstallKeyStrokeContext","renderContent","isContentAvailable","open","openControlContainer","addClass","installKeyStrokeContext","invalidateLayoutTree","get$Scrollable","$contentContainer","_renderSelected","options","nvl","$","extend","closeWhenUnselected","select","onControlSelected","rendered","selectedControl","closeControlContainer","_updateTooltip","toggle","enabledComputed","setSelected","visible","_setProperty","_configureTooltip","onControlContainerOpened","onControlContainerClosed","_createActionKeyStroke"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/table/controls/TableControl.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2022 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * https://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {Action, HtmlComponent, KeyStrokeContext, NullLayout, scout, styles, Table, TableControlActionKeyStroke, TableControlCloseKeyStroke} from '../../index';\n\nexport default class TableControl extends Action {\n\n  constructor() {\n    super();\n    this.tableFooter = null;\n    this.contentRendered = false;\n    this.height = null;\n    this.animateDuration = null;\n    this.resizerVisible = true;\n    this.toggleAction = true;\n    this.showTooltipWhenSelected = false;\n  }\n\n  static CONTAINER_SIZE = 345; // Defined in sizes.less\n  static CONTAINER_ANIMATE_DURATION = 350;\n\n  _init(model) {\n    this.parent = model.parent;\n    this.table = this.getTable();\n    super._init(model);\n    // retain the size with 'dense' in case we're in dense mode\n    this.denseClass = this.session.desktop.dense ? ' dense' : '';\n    TableControl.CONTAINER_SIZE = styles.getSize('table-control-container' + this.denseClass, 'height', 'height', TableControl.CONTAINER_SIZE);\n    this.height = TableControl.CONTAINER_SIZE;\n    this.animateDuration = TableControl.CONTAINER_ANIMATE_DURATION;\n    this._setSelected(this.selected);\n  }\n\n  /**\n   * @override\n   */\n  _initKeyStrokeContext() {\n    super._initKeyStrokeContext();\n\n    this.tableControlKeyStrokeContext = this._createKeyStrokeContextForTableControl();\n  }\n\n  _createKeyStrokeContextForTableControl() {\n    let keyStrokeContext = new KeyStrokeContext();\n    keyStrokeContext.$scopeTarget = () => this.tableFooter.$controlContent;\n    keyStrokeContext.$bindTarget = () => this.tableFooter.$controlContent;\n    keyStrokeContext.registerKeyStroke(new TableControlCloseKeyStroke(this));\n    return keyStrokeContext;\n  }\n\n  _createLayout() {\n    return new NullLayout();\n  }\n\n  _render() {\n    let classes = 'table-control ';\n    if (this.cssClass) {\n      classes += this.cssClass + '-table-control';\n    }\n    this.$container = this.$parent.appendDiv(classes)\n      .on('mousedown', this._onMouseDown.bind(this))\n      .data('control', this);\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(this._createLayout());\n  }\n\n  remove() {\n    this.removeContent();\n    super.remove();\n  }\n\n  _renderContent($parent) {\n    // to be implemented by subclass\n  }\n\n  _removeContent() {\n    // to be implemented by subclass\n  }\n\n  removeContent() {\n    if (this.contentRendered) {\n      this._removeContent();\n      if (this.cssClass) {\n        this.tableFooter.$controlContainer.removeClass(this.cssClass + '-table-control-container');\n        this.tableFooter.$controlContent.removeClass(this.cssClass + '-table-control-content');\n      }\n      this.session.keyStrokeManager.uninstallKeyStrokeContext(this.tableControlKeyStrokeContext);\n      this.contentRendered = false;\n    }\n  }\n\n  /**\n   * Renders the content if not already rendered.<br>\n   * Opens the container if the container is not already open.<br>\n   * Does nothing if the content is not available yet to -> don't open container if content is not rendered yet to prevent blank container or laggy opening.<br>\n   * Does nothing if the control is not selected.\n   */\n  renderContent() {\n    if (!this.contentRendered && !this.isContentAvailable()) {\n      return;\n    }\n\n    if (!this.selected) {\n      return;\n    }\n\n    if (!this.tableFooter.open) {\n      this.tableFooter.openControlContainer(this);\n    }\n\n    if (!this.contentRendered) {\n      if (this.cssClass) {\n        this.tableFooter.$controlContainer.addClass(this.cssClass + '-table-control-container');\n        this.tableFooter.$controlContent.addClass(this.cssClass + '-table-control-content');\n      }\n      this.tableFooter.$controlContent.data('control', this);\n      this._renderContent(this.tableFooter.$controlContent);\n      this.session.keyStrokeManager.installKeyStrokeContext(this.tableControlKeyStrokeContext);\n      if (this.htmlComp) {\n        this.htmlComp.invalidateLayoutTree(false);\n      }\n      this.contentRendered = true;\n    }\n  }\n\n  /**\n   * @override\n   */\n  get$Scrollable() {\n    return this.$contentContainer;\n  }\n\n  _renderSelected(selected, options) {\n    selected = scout.nvl(selected, this.selected);\n    options = $.extend({}, {closeWhenUnselected: true}, options);\n\n    this.$container.select(selected);\n\n    if (selected) {\n      this.tableFooter.onControlSelected(this);\n      this.renderContent();\n    } else {\n\n      // Don't modify the state initially, only on property change events\n      if (this.rendered) {\n\n        if (options.closeWhenUnselected && this === this.tableFooter.selectedControl) {\n          // Don't remove immediately, wait for the animation to finish (handled by onControlContainerClosed)\n          this.tableFooter.onControlSelected(null);\n          this.tableFooter.closeControlContainer(this, options);\n        } else {\n          this.removeContent();\n        }\n\n      }\n    }\n    this._updateTooltip();\n  }\n\n  /**\n   * Returns true if the table control may be displayed (opened).\n   */\n  isContentAvailable() {\n    return true;\n  }\n\n  toggle() {\n    if (!this.enabledComputed) {\n      return;\n    }\n    if (this.tableFooter.selectedControl === this) {\n      this.setSelected(false);\n    } else {\n      this.setSelected(true);\n    }\n  }\n\n  setSelected(selected, options) {\n    if (selected && !this.visible) {\n      return;\n    }\n    if (selected === this.selected) {\n      return;\n    }\n\n    if (this.tableFooter && this.tableFooter.selectedControl && this.tableFooter.selectedControl !== this) {\n      this.tableFooter.selectedControl.setSelected(false, {closeWhenUnselected: false});\n    }\n\n    // Instead of calling parent.setSelected(), we manually execute the required code. Otherwise\n    // we would not be able to pass 'closeWhenUnselected' to _renderSelected().\n    this._setSelected(selected);\n    options = $.extend({}, {closeWhenUnselected: true}, options);\n    if (this.rendered) {\n      this._renderSelected(selected, options);\n    } else if (options.closeWhenUnselected && this.tableFooter && this === this.tableFooter.selectedControl && !selected) {\n      this.tableFooter.onControlSelected(null);\n    }\n  }\n\n  _setSelected(selected) {\n    // Does not nothing more than the default but allows for extension by a subclass\n    this._setProperty('selected', selected);\n  }\n\n  _configureTooltip() {\n    let options = super._configureTooltip();\n    options.cssClass = 'table-control-tooltip';\n    return options;\n  }\n\n  _onMouseDown() {\n    this.toggle();\n  }\n\n  onControlContainerOpened() {\n    // nop\n  }\n\n  onControlContainerClosed() {\n    this.removeContent();\n  }\n\n  /**\n   * @override Action.js\n   */\n  _createActionKeyStroke() {\n    return new TableControlActionKeyStroke(this);\n  }\n\n  getTable() {\n    let parent = this.parent;\n    while (parent) {\n      if (parent instanceof Table) {\n        return parent;\n      }\n      parent = parent.parent;\n    }\n\n    return null;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}