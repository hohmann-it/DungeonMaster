{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, HtmlComponent, scout, SimpleTabBoxController, SimpleTabBoxLayout, SimpleTabViewContentLayout, Widget } from '../index';\nexport default class SimpleTabBox extends Widget {\n  constructor() {\n    super();\n    this._addWidgetProperties(['tabArea']);\n    this.tabArea = null;\n    this.viewStack = [];\n    this.currentView = null;\n    this.controller = null;\n    this._removeViewInProgress = 0;\n  }\n  _init(model) {\n    super._init(model);\n    this.cssClass = model.cssClass;\n    if (!this.controller) {\n      // default controller\n      this.controller = scout.create('SimpleTabBoxController');\n    }\n    // link\n    this.controller.install(this, this.tabArea);\n    this.tabArea = this.controller.tabArea;\n    this._viewDestroyedHandler = this._onViewDestroyed.bind(this);\n  }\n\n  /**\n   * Returns a $container used as a bind target for the key-stroke context of the group-box.\n   * By default this function returns the container of the form, or when group-box is has no\n   * form as a parent the container of the group-box.\n   */\n  _keyStrokeBindTarget() {\n    return this.$container;\n  }\n  _render() {\n    this.$container = this.$parent.appendDiv('simple-tab-box');\n    if (this.cssClass) {\n      this.$container.addClass(this.cssClass);\n    }\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(new SimpleTabBoxLayout(this));\n    this.htmlComp.layoutData = this.layoutData;\n\n    // render content\n    this.$viewContent = this.$container.appendDiv('tab-content');\n    this.viewContent = HtmlComponent.install(this.$viewContent, this.session);\n    this.viewContent.setLayout(new SimpleTabViewContentLayout(this));\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderTabArea();\n    this._renderView(this.currentView);\n  }\n  _renderTabArea() {\n    this.tabArea.render();\n    this.$tabArea = this.tabArea.$container;\n    this.$tabArea.insertBefore(this.$viewContent);\n  }\n  _renderView(view) {\n    if (!view) {\n      return;\n    }\n    if (view.rendered) {\n      return;\n    }\n    view.render(this.$viewContent);\n    view.$container.addClass('view');\n    view.validateRoot = true;\n  }\n  postRender() {\n    if (this.viewStack.length > 0 && !this.currentView) {\n      this.activateView(this.viewStack[this.viewStack.length - 1]);\n    }\n  }\n  activateView(view) {\n    if (view === this.currentView) {\n      return;\n    }\n    if (this.currentView) {\n      this.currentView.detach();\n      this.trigger('viewDeactivate', {\n        view: this.currentView\n      });\n      this.currentView = null;\n    }\n    // ensure rendered\n    if (this.rendered) {\n      this._renderView(view);\n    }\n    if (view && !view.attached) {\n      view.attach();\n    }\n    this.currentView = view;\n    this.trigger('viewActivate', {\n      view: view\n    });\n    if (this.rendered) {\n      this.viewContent.invalidateLayoutTree();\n    }\n  }\n  setLayoutData(layoutData) {\n    super.setLayoutData(layoutData);\n    this.layoutData = layoutData;\n  }\n  getLayoutData() {\n    return this.layoutData;\n  }\n\n  /**\n   * @param {Widget} view\n   * @param {boolean} bringToTop whether the view should be placed on top of the view stack. the view tab will be selected.\n   */\n  addView(view, bringToTop) {\n    let activate = scout.nvl(bringToTop, true);\n    // add to view stack\n    let siblingView = this._addToViewStack(view, activate);\n    // track focus when a view gets removed ond rerendered.\n    view.setTrackFocus(true);\n    view.setParent(this);\n    this.trigger('viewAdd', {\n      view: view,\n      siblingView: siblingView\n    });\n    if (activate) {\n      this.activateView(view);\n    }\n  }\n\n  /**\n   * @param {Widget} view\n   * @return {Widget} the view which is gonna be the sibling to insert the new view tab after.\n   */\n  _addToViewStack(view, bringToTop) {\n    let sibling;\n    let index = this.viewStack.indexOf(view);\n    if (index > -1) {\n      return this.viewStack[index - 1];\n    }\n    if (!SimpleTabBoxController.hasViewTab(view)) {\n      // first\n      this.viewStack.unshift(view);\n      this._addDestroyListener(view);\n      return sibling;\n    }\n    if (!this.currentView || !bringToTop) {\n      // end\n      sibling = this.viewStack[this.viewStack.length - 1];\n      this.viewStack.push(view);\n      this._addDestroyListener(view);\n      return sibling;\n    }\n    let currentIndex = this.viewStack.indexOf(this.currentView);\n    sibling = this.viewStack[currentIndex];\n    // it does not matter when index is -1 will be inserted at first position\n    this.viewStack.splice(currentIndex + 1, 0, view);\n    return sibling;\n  }\n  _addDestroyListener(view) {\n    view.one('destroy', this._viewDestroyedHandler);\n  }\n  _removeDestroyListener(view) {\n    view.off('destroy', this._viewDestroyedHandler);\n  }\n  _onViewDestroyed(event) {\n    let view = event.source;\n    arrays.remove(this.viewStack, view);\n    if (this.currentView === view) {\n      if (this.rendered) {\n        view.remove();\n      }\n      this.currentView = null;\n    }\n  }\n  removeView(view, showSiblingView) {\n    if (!view) {\n      return;\n    }\n    // track focus when a view gets removed ond rerendered.\n    view.setTrackFocus(false);\n    showSiblingView = scout.nvl(showSiblingView, true);\n    let index = this.viewStack.indexOf(view);\n    let viewToActivate;\n    // if current view is the view to remove reset current view\n    if (this.currentView === view) {\n      this.currentView = null;\n    } else {\n      // Don't change selected view if not the selected view was removed\n      showSiblingView = false;\n    }\n    if (index > -1) {\n      // activate previous\n      if (showSiblingView) {\n        if (index - 1 >= 0) {\n          viewToActivate = this.viewStack[index - 1];\n        } else if (index + 1 < this.viewStack.length) {\n          viewToActivate = this.viewStack[index + 1];\n        }\n      }\n\n      // remove\n      this.viewStack.splice(index, 1);\n      if (view.rendered) {\n        this._removeViewInProgress++;\n        view.remove();\n        this._removeViewInProgress--;\n      }\n      this.trigger('viewRemove', {\n        view: view\n      });\n      if (this._removeViewInProgress === 0) {\n        if (viewToActivate) {\n          this.activateView(viewToActivate);\n        }\n        if (this.rendered) {\n          this.viewContent.invalidateLayoutTree();\n        }\n      }\n    }\n  }\n  getController() {\n    return this.controller;\n  }\n  viewCount() {\n    return this.viewStack.length;\n  }\n  hasViews() {\n    return this.viewStack.length > 0;\n  }\n  hasView(view) {\n    return this.viewStack.filter(v => v === view).length > 0;\n  }\n  getViews(displayViewId) {\n    return this.viewStack.filter(view => {\n      if (!displayViewId) {\n        return true;\n      }\n      return displayViewId === view.displayViewId;\n    });\n  }\n}","map":{"version":3,"names":["arrays","HtmlComponent","scout","SimpleTabBoxController","SimpleTabBoxLayout","SimpleTabViewContentLayout","Widget","SimpleTabBox","constructor","_addWidgetProperties","tabArea","viewStack","currentView","controller","_removeViewInProgress","_init","model","cssClass","create","install","_viewDestroyedHandler","_onViewDestroyed","bind","_keyStrokeBindTarget","$container","_render","$parent","appendDiv","addClass","htmlComp","session","setLayout","layoutData","$viewContent","viewContent","_renderProperties","_renderTabArea","_renderView","render","$tabArea","insertBefore","view","rendered","validateRoot","postRender","length","activateView","detach","trigger","attached","attach","invalidateLayoutTree","setLayoutData","getLayoutData","addView","bringToTop","activate","nvl","siblingView","_addToViewStack","setTrackFocus","setParent","sibling","index","indexOf","hasViewTab","unshift","_addDestroyListener","push","currentIndex","splice","one","_removeDestroyListener","off","event","source","remove","removeView","showSiblingView","viewToActivate","getController","viewCount","hasViews","hasView","filter","v","getViews","displayViewId"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/tabbox/SimpleTabBox.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, HtmlComponent, scout, SimpleTabBoxController, SimpleTabBoxLayout, SimpleTabViewContentLayout, Widget} from '../index';\n\nexport default class SimpleTabBox extends Widget {\n\n  constructor() {\n    super();\n    this._addWidgetProperties(['tabArea']);\n\n    this.tabArea = null;\n    this.viewStack = [];\n    this.currentView = null;\n    this.controller = null;\n    this._removeViewInProgress = 0;\n  }\n\n  _init(model) {\n    super._init(model);\n    this.cssClass = model.cssClass;\n\n    if (!this.controller) {\n      // default controller\n      this.controller = scout.create('SimpleTabBoxController');\n    }\n    // link\n    this.controller.install(this, this.tabArea);\n    this.tabArea = this.controller.tabArea;\n\n    this._viewDestroyedHandler = this._onViewDestroyed.bind(this);\n  }\n\n  /**\n   * Returns a $container used as a bind target for the key-stroke context of the group-box.\n   * By default this function returns the container of the form, or when group-box is has no\n   * form as a parent the container of the group-box.\n   */\n  _keyStrokeBindTarget() {\n    return this.$container;\n  }\n\n  _render() {\n    this.$container = this.$parent.appendDiv('simple-tab-box');\n    if (this.cssClass) {\n      this.$container.addClass(this.cssClass);\n    }\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(new SimpleTabBoxLayout(this));\n    this.htmlComp.layoutData = this.layoutData;\n\n    // render content\n    this.$viewContent = this.$container.appendDiv('tab-content');\n    this.viewContent = HtmlComponent.install(this.$viewContent, this.session);\n    this.viewContent.setLayout(new SimpleTabViewContentLayout(this));\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n\n    this._renderTabArea();\n    this._renderView(this.currentView);\n  }\n\n  _renderTabArea() {\n    this.tabArea.render();\n    this.$tabArea = this.tabArea.$container;\n    this.$tabArea.insertBefore(this.$viewContent);\n  }\n\n  _renderView(view) {\n    if (!view) {\n      return;\n    }\n    if (view.rendered) {\n      return;\n    }\n    view.render(this.$viewContent);\n    view.$container.addClass('view');\n    view.validateRoot = true;\n  }\n\n  postRender() {\n    if (this.viewStack.length > 0 && !this.currentView) {\n      this.activateView(this.viewStack[this.viewStack.length - 1]);\n    }\n  }\n\n  activateView(view) {\n    if (view === this.currentView) {\n      return;\n    }\n\n    if (this.currentView) {\n      this.currentView.detach();\n      this.trigger('viewDeactivate', {\n        view: this.currentView\n      });\n      this.currentView = null;\n    }\n    // ensure rendered\n    if (this.rendered) {\n      this._renderView(view);\n    }\n    if (view && !view.attached) {\n      view.attach();\n    }\n\n    this.currentView = view;\n\n    this.trigger('viewActivate', {\n      view: view\n    });\n\n    if (this.rendered) {\n      this.viewContent.invalidateLayoutTree();\n    }\n  }\n\n  setLayoutData(layoutData) {\n    super.setLayoutData(layoutData);\n    this.layoutData = layoutData;\n  }\n\n  getLayoutData() {\n    return this.layoutData;\n  }\n\n  /**\n   * @param {Widget} view\n   * @param {boolean} bringToTop whether the view should be placed on top of the view stack. the view tab will be selected.\n   */\n  addView(view, bringToTop) {\n    let activate = scout.nvl(bringToTop, true);\n    // add to view stack\n    let siblingView = this._addToViewStack(view, activate);\n    // track focus when a view gets removed ond rerendered.\n    view.setTrackFocus(true);\n    view.setParent(this);\n    this.trigger('viewAdd', {\n      view: view,\n      siblingView: siblingView\n    });\n\n    if (activate) {\n      this.activateView(view);\n    }\n  }\n\n  /**\n   * @param {Widget} view\n   * @return {Widget} the view which is gonna be the sibling to insert the new view tab after.\n   */\n  _addToViewStack(view, bringToTop) {\n    let sibling;\n    let index = this.viewStack.indexOf(view);\n    if (index > -1) {\n      return this.viewStack[index - 1];\n    }\n\n    if (!SimpleTabBoxController.hasViewTab(view)) {\n      // first\n      this.viewStack.unshift(view);\n      this._addDestroyListener(view);\n      return sibling;\n    }\n    if (!this.currentView || !bringToTop) {\n      // end\n      sibling = this.viewStack[this.viewStack.length - 1];\n      this.viewStack.push(view);\n      this._addDestroyListener(view);\n      return sibling;\n    }\n    let currentIndex = this.viewStack.indexOf(this.currentView);\n    sibling = this.viewStack[currentIndex];\n    // it does not matter when index is -1 will be inserted at first position\n    this.viewStack.splice(currentIndex + 1, 0, view);\n    return sibling;\n  }\n\n  _addDestroyListener(view) {\n    view.one('destroy', this._viewDestroyedHandler);\n  }\n\n  _removeDestroyListener(view) {\n    view.off('destroy', this._viewDestroyedHandler);\n  }\n\n  _onViewDestroyed(event) {\n    let view = event.source;\n    arrays.remove(this.viewStack, view);\n    if (this.currentView === view) {\n      if (this.rendered) {\n        view.remove();\n      }\n      this.currentView = null;\n    }\n  }\n\n  removeView(view, showSiblingView) {\n    if (!view) {\n      return;\n    }\n    // track focus when a view gets removed ond rerendered.\n    view.setTrackFocus(false);\n    showSiblingView = scout.nvl(showSiblingView, true);\n    let index = this.viewStack.indexOf(view);\n    let viewToActivate;\n    // if current view is the view to remove reset current view\n    if (this.currentView === view) {\n      this.currentView = null;\n    } else {\n      // Don't change selected view if not the selected view was removed\n      showSiblingView = false;\n    }\n\n    if (index > -1) {\n      // activate previous\n      if (showSiblingView) {\n        if (index - 1 >= 0) {\n          viewToActivate = this.viewStack[index - 1];\n        } else if (index + 1 < this.viewStack.length) {\n          viewToActivate = this.viewStack[index + 1];\n        }\n      }\n\n      // remove\n      this.viewStack.splice(index, 1);\n      if (view.rendered) {\n        this._removeViewInProgress++;\n        view.remove();\n        this._removeViewInProgress--;\n      }\n      this.trigger('viewRemove', {\n        view: view\n      });\n\n      if (this._removeViewInProgress === 0) {\n        if (viewToActivate) {\n          this.activateView(viewToActivate);\n        }\n        if (this.rendered) {\n          this.viewContent.invalidateLayoutTree();\n        }\n      }\n    }\n  }\n\n  getController() {\n    return this.controller;\n  }\n\n  viewCount() {\n    return this.viewStack.length;\n  }\n\n  hasViews() {\n    return this.viewStack.length > 0;\n  }\n\n  hasView(view) {\n    return this.viewStack.filter(v => v === view).length > 0;\n  }\n\n  getViews(displayViewId) {\n    return this.viewStack.filter(view => {\n      if (!displayViewId) {\n        return true;\n      }\n      return displayViewId === view.displayViewId;\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}