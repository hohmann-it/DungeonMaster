{"ast":null,"code":"/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, HtmlComponent, MenuBar, MenuBarBoxLayout, Widget } from '../../index';\nexport default class MenuBarBox extends Widget {\n  constructor() {\n    super();\n    this.menuItems = [];\n    this.tooltipPosition = MenuBar.Position.TOP;\n    this._addWidgetProperties('menuItems');\n  }\n  _render() {\n    this.$container = this.$parent.appendDiv('menubar-box');\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(new MenuBarBoxLayout(this));\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderMenuItems();\n  }\n\n  /**\n   * @override Widget.js\n   */\n  _remove() {\n    this._removeMenuItems();\n    super._remove();\n  }\n  setMenuItems(menuItems) {\n    menuItems = arrays.ensure(menuItems);\n    if (!arrays.equals(this.menuItems, menuItems)) {\n      this.setProperty('menuItems', menuItems);\n    }\n  }\n  _setMenuItems(menuItems) {\n    this._setProperty('menuItems', menuItems);\n    this._updateTooltipPosition();\n  }\n  _removeMenuItems() {\n    this.menuItems.forEach(item => item.remove());\n  }\n  _renderMenuItems() {\n    this.menuItems.forEach(item => {\n      item.render(this.$container);\n      item.$container.addClass('menubar-item');\n    });\n    if (!this.rendering) {\n      this.invalidateLayoutTree();\n    }\n  }\n  _renderVisible() {\n    super._renderVisible();\n    this.revalidateLayout();\n  }\n  _onMenuItemPropertyChange(event) {\n    if (event.propertyName === 'visible') {\n      this.setVisible(this.menuItems.some(m => m.visible && !m.ellipsis));\n    }\n  }\n  setTooltipPosition(position) {\n    this.setProperty('tooltipPosition', position);\n  }\n  _setTooltipPosition(position) {\n    this._setProperty('tooltipPosition', position);\n    this._updateTooltipPosition();\n  }\n  _updateTooltipPosition() {\n    this.menuItems.forEach(item => item.setTooltipPosition(this.tooltipPosition));\n  }\n}","map":{"version":3,"names":["arrays","HtmlComponent","MenuBar","MenuBarBoxLayout","Widget","MenuBarBox","constructor","menuItems","tooltipPosition","Position","TOP","_addWidgetProperties","_render","$container","$parent","appendDiv","htmlComp","install","session","setLayout","_renderProperties","_renderMenuItems","_remove","_removeMenuItems","setMenuItems","ensure","equals","setProperty","_setMenuItems","_setProperty","_updateTooltipPosition","forEach","item","remove","render","addClass","rendering","invalidateLayoutTree","_renderVisible","revalidateLayout","_onMenuItemPropertyChange","event","propertyName","setVisible","some","m","visible","ellipsis","setTooltipPosition","position","_setTooltipPosition"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/menu/menubar/MenuBarBox.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, HtmlComponent, MenuBar, MenuBarBoxLayout, Widget} from '../../index';\n\nexport default class MenuBarBox extends Widget {\n\n  constructor() {\n    super();\n    this.menuItems = [];\n    this.tooltipPosition = MenuBar.Position.TOP;\n    this._addWidgetProperties('menuItems');\n  }\n\n  _render() {\n    this.$container = this.$parent.appendDiv('menubar-box');\n\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.setLayout(new MenuBarBoxLayout(this));\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderMenuItems();\n  }\n\n  /**\n   * @override Widget.js\n   */\n  _remove() {\n    this._removeMenuItems();\n    super._remove();\n  }\n\n  setMenuItems(menuItems) {\n    menuItems = arrays.ensure(menuItems);\n    if (!arrays.equals(this.menuItems, menuItems)) {\n      this.setProperty('menuItems', menuItems);\n    }\n  }\n\n  _setMenuItems(menuItems) {\n    this._setProperty('menuItems', menuItems);\n    this._updateTooltipPosition();\n  }\n\n  _removeMenuItems() {\n    this.menuItems.forEach(item => item.remove());\n  }\n\n  _renderMenuItems() {\n    this.menuItems.forEach(item => {\n      item.render(this.$container);\n      item.$container.addClass('menubar-item');\n    });\n\n    if (!this.rendering) {\n      this.invalidateLayoutTree();\n    }\n  }\n\n  _renderVisible() {\n    super._renderVisible();\n    this.revalidateLayout();\n  }\n\n  _onMenuItemPropertyChange(event) {\n    if (event.propertyName === 'visible') {\n      this.setVisible(this.menuItems.some(m => m.visible && !m.ellipsis));\n    }\n  }\n\n  setTooltipPosition(position) {\n    this.setProperty('tooltipPosition', position);\n  }\n\n  _setTooltipPosition(position) {\n    this._setProperty('tooltipPosition', position);\n    this._updateTooltipPosition();\n  }\n\n  _updateTooltipPosition() {\n    this.menuItems.forEach(item => item.setTooltipPosition(this.tooltipPosition));\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}