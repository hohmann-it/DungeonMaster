{"ast":null,"code":"/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, Dimension, HtmlComponent, scout } from '../index';\nimport $ from 'jquery';\nexport default class ColumnLayout extends AbstractLayout {\n  constructor(options) {\n    super();\n    options = options || {};\n    this.stretch = scout.nvl(options.stretch, true);\n    this.useCssWidth = scout.nvl(options.useCssWidth, false);\n\n    // ColumnLayout = each child element represents a column\n    // +------+---+------+\n    // |      |   |      |\n    // +------+---+------+\n  }\n\n  _getChildren($container) {\n    return $container.children();\n  }\n  layout($container) {\n    let htmlComp = HtmlComponent.get($container);\n    let containerSize = htmlComp.availableSize().subtract(htmlComp.insets());\n    this._getChildren($container).each((i, elem) => {\n      let $elem = $(elem);\n      let htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n      let childPrefSize = htmlChild.prefSize({\n        useCssSize: true\n      });\n      if (this.stretch) {\n        // All elements in a column layout have the same height which is the height of the container\n        childPrefSize.height = containerSize.height - htmlChild.margins().vertical();\n      }\n\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      if (this.useCssWidth) {\n        htmlChild.$comp.cssHeight(childPrefSize.height);\n        htmlChild.revalidateLayout();\n      } else {\n        htmlChild.setSize(childPrefSize);\n      }\n    });\n  }\n  preferredLayoutSize($container, options) {\n    let prefSize = new Dimension(),\n      htmlContainer = HtmlComponent.get($container),\n      childOptions = {\n        useCssSize: true\n      };\n    this._getChildren($container).each((i, elem) => {\n      let $elem = $(elem);\n      let htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n      let childPrefSize = htmlChild.prefSize(childOptions);\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      childPrefSize = childPrefSize.add(htmlChild.margins());\n      prefSize.width = prefSize.width + childPrefSize.width;\n      prefSize.height = Math.max(prefSize.height, childPrefSize.height);\n    });\n    prefSize = prefSize.add(htmlContainer.insets());\n    return prefSize;\n  }\n}","map":{"version":3,"names":["AbstractLayout","Dimension","HtmlComponent","scout","$","ColumnLayout","constructor","options","stretch","nvl","useCssWidth","_getChildren","$container","children","layout","htmlComp","get","containerSize","availableSize","subtract","insets","each","i","elem","$elem","htmlChild","optGet","isVisible","childPrefSize","prefSize","useCssSize","height","margins","vertical","layoutData","widthHint","width","$comp","cssHeight","revalidateLayout","setSize","preferredLayoutSize","htmlContainer","childOptions","add","Math","max"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/layout/ColumnLayout.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, Dimension, HtmlComponent, scout} from '../index';\nimport $ from 'jquery';\n\nexport default class ColumnLayout extends AbstractLayout {\n\n  constructor(options) {\n    super();\n    options = options || {};\n    this.stretch = scout.nvl(options.stretch, true);\n    this.useCssWidth = scout.nvl(options.useCssWidth, false);\n\n    // ColumnLayout = each child element represents a column\n    // +------+---+------+\n    // |      |   |      |\n    // +------+---+------+\n  }\n\n  _getChildren($container) {\n    return $container.children();\n  }\n\n  layout($container) {\n    let htmlComp = HtmlComponent.get($container);\n    let containerSize = htmlComp.availableSize()\n      .subtract(htmlComp.insets());\n\n    this._getChildren($container).each((i, elem) => {\n      let $elem = $(elem);\n      let htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n\n      let childPrefSize = htmlChild.prefSize({\n        useCssSize: true\n      });\n\n      if (this.stretch) {\n        // All elements in a column layout have the same height which is the height of the container\n        childPrefSize.height = containerSize.height - htmlChild.margins().vertical();\n      }\n\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      if (this.useCssWidth) {\n        htmlChild.$comp.cssHeight(childPrefSize.height);\n        htmlChild.revalidateLayout();\n      } else {\n        htmlChild.setSize(childPrefSize);\n      }\n    });\n  }\n\n  preferredLayoutSize($container, options) {\n    let prefSize = new Dimension(),\n      htmlContainer = HtmlComponent.get($container),\n      childOptions = {\n        useCssSize: true\n      };\n\n    this._getChildren($container).each((i, elem) => {\n      let $elem = $(elem);\n      let htmlChild = HtmlComponent.optGet($elem);\n      if (!htmlChild || !$elem.isVisible()) {\n        return;\n      }\n\n      let childPrefSize = htmlChild.prefSize(childOptions);\n      // Use layout data width if set\n      if (htmlChild.layoutData && htmlChild.layoutData.widthHint) {\n        childPrefSize.width = htmlChild.layoutData.widthHint;\n      }\n      childPrefSize = childPrefSize.add(htmlChild.margins());\n      prefSize.width = prefSize.width + childPrefSize.width;\n      prefSize.height = Math.max(prefSize.height, childPrefSize.height);\n    });\n\n    prefSize = prefSize.add(htmlContainer.insets());\n    return prefSize;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}