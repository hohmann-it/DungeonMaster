{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { strings, styles, TreeNode } from '../index';\n\n/**\n * @class\n */\nexport default class CompactTreeNode extends TreeNode {\n  constructor(tree) {\n    super(tree);\n  }\n\n  /**\n   * @override\n   */\n  render() {\n    let tree = this.getTree();\n    if (this.isSection()) {\n      let $section = tree.$container.makeDiv('section expanded').data('node', this);\n      $section.appendDiv('title').text(this.text);\n      this.$node = $section;\n    } else {\n      let $parent = this.parentNode.$node;\n      // Sections nodes\n      let $sectionNode = $parent.makeDiv('section-node').data('node', this).on('mousedown', tree._onNodeMouseDown.bind(tree)).on('mouseup', tree._onNodeMouseUp.bind(tree));\n      this.$node = $sectionNode;\n    }\n    return this.$node;\n  }\n\n  /**\n   * @override\n   */\n  _decorate() {\n    // This node is not yet rendered, nothing to do\n    if (!this.$node) {\n      return;\n    }\n    let formerClasses,\n      $node = this.$node;\n    if ($node.hasClass('section')) {\n      $node = $node.children('title');\n      formerClasses = 'title';\n    } else {\n      formerClasses = 'section-node';\n      if ($node.isSelected()) {\n        formerClasses += ' selected';\n      }\n    }\n    $node.removeClass();\n    $node.addClass(formerClasses);\n    $node.addClass(this.cssClass);\n    $node.text(this.text);\n    styles.legacyStyle(this, $node);\n    if (strings.hasText(this.tooltipText)) {\n      $node.attr('title', this.tooltipText);\n    }\n  }\n  isSection() {\n    return this.level === 0;\n  }\n}","map":{"version":3,"names":["strings","styles","TreeNode","CompactTreeNode","constructor","tree","render","getTree","isSection","$section","$container","makeDiv","data","appendDiv","text","$node","$parent","parentNode","$sectionNode","on","_onNodeMouseDown","bind","_onNodeMouseUp","_decorate","formerClasses","hasClass","children","isSelected","removeClass","addClass","cssClass","legacyStyle","hasText","tooltipText","attr","level"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/tree/CompactTreeNode.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {strings, styles, TreeNode} from '../index';\n\n/**\n * @class\n */\nexport default class CompactTreeNode extends TreeNode {\n\n  constructor(tree) {\n    super(tree);\n  }\n\n  /**\n   * @override\n   */\n  render() {\n    let tree = this.getTree();\n\n    if (this.isSection()) {\n      let $section = tree.$container\n        .makeDiv('section expanded')\n        .data('node', this);\n      $section\n        .appendDiv('title')\n        .text(this.text);\n\n      this.$node = $section;\n    } else {\n      let $parent = this.parentNode.$node;\n      // Sections nodes\n      let $sectionNode = $parent.makeDiv('section-node')\n        .data('node', this)\n        .on('mousedown', tree._onNodeMouseDown.bind(tree))\n        .on('mouseup', tree._onNodeMouseUp.bind(tree));\n\n      this.$node = $sectionNode;\n    }\n\n    return this.$node;\n  }\n\n  /**\n   * @override\n   */\n  _decorate() {\n    // This node is not yet rendered, nothing to do\n    if (!this.$node) {\n      return;\n    }\n\n    let formerClasses,\n      $node = this.$node;\n\n    if ($node.hasClass('section')) {\n      $node = $node.children('title');\n      formerClasses = 'title';\n    } else {\n      formerClasses = 'section-node';\n      if ($node.isSelected()) {\n        formerClasses += ' selected';\n      }\n    }\n    $node.removeClass();\n    $node.addClass(formerClasses);\n    $node.addClass(this.cssClass);\n    $node.text(this.text);\n\n    styles.legacyStyle(this, $node);\n\n    if (strings.hasText(this.tooltipText)) {\n      $node.attr('title', this.tooltipText);\n    }\n  }\n\n  isSection() {\n    return this.level === 0;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAO,UAAU;;AAElD;AACA;AACA;AACA,eAAe,MAAMC,eAAe,SAASD,QAAQ,CAAC;EAEpDE,WAAW,CAACC,IAAI,EAAE;IAChB,KAAK,CAACA,IAAI,CAAC;EACb;;EAEA;AACF;AACA;EACEC,MAAM,GAAG;IACP,IAAID,IAAI,GAAG,IAAI,CAACE,OAAO,EAAE;IAEzB,IAAI,IAAI,CAACC,SAAS,EAAE,EAAE;MACpB,IAAIC,QAAQ,GAAGJ,IAAI,CAACK,UAAU,CAC3BC,OAAO,CAAC,kBAAkB,CAAC,CAC3BC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;MACrBH,QAAQ,CACLI,SAAS,CAAC,OAAO,CAAC,CAClBC,IAAI,CAAC,IAAI,CAACA,IAAI,CAAC;MAElB,IAAI,CAACC,KAAK,GAAGN,QAAQ;IACvB,CAAC,MAAM;MACL,IAAIO,OAAO,GAAG,IAAI,CAACC,UAAU,CAACF,KAAK;MACnC;MACA,IAAIG,YAAY,GAAGF,OAAO,CAACL,OAAO,CAAC,cAAc,CAAC,CAC/CC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAClBO,EAAE,CAAC,WAAW,EAAEd,IAAI,CAACe,gBAAgB,CAACC,IAAI,CAAChB,IAAI,CAAC,CAAC,CACjDc,EAAE,CAAC,SAAS,EAAEd,IAAI,CAACiB,cAAc,CAACD,IAAI,CAAChB,IAAI,CAAC,CAAC;MAEhD,IAAI,CAACU,KAAK,GAAGG,YAAY;IAC3B;IAEA,OAAO,IAAI,CAACH,KAAK;EACnB;;EAEA;AACF;AACA;EACEQ,SAAS,GAAG;IACV;IACA,IAAI,CAAC,IAAI,CAACR,KAAK,EAAE;MACf;IACF;IAEA,IAAIS,aAAa;MACfT,KAAK,GAAG,IAAI,CAACA,KAAK;IAEpB,IAAIA,KAAK,CAACU,QAAQ,CAAC,SAAS,CAAC,EAAE;MAC7BV,KAAK,GAAGA,KAAK,CAACW,QAAQ,CAAC,OAAO,CAAC;MAC/BF,aAAa,GAAG,OAAO;IACzB,CAAC,MAAM;MACLA,aAAa,GAAG,cAAc;MAC9B,IAAIT,KAAK,CAACY,UAAU,EAAE,EAAE;QACtBH,aAAa,IAAI,WAAW;MAC9B;IACF;IACAT,KAAK,CAACa,WAAW,EAAE;IACnBb,KAAK,CAACc,QAAQ,CAACL,aAAa,CAAC;IAC7BT,KAAK,CAACc,QAAQ,CAAC,IAAI,CAACC,QAAQ,CAAC;IAC7Bf,KAAK,CAACD,IAAI,CAAC,IAAI,CAACA,IAAI,CAAC;IAErBb,MAAM,CAAC8B,WAAW,CAAC,IAAI,EAAEhB,KAAK,CAAC;IAE/B,IAAIf,OAAO,CAACgC,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,EAAE;MACrClB,KAAK,CAACmB,IAAI,CAAC,OAAO,EAAE,IAAI,CAACD,WAAW,CAAC;IACvC;EACF;EAEAzB,SAAS,GAAG;IACV,OAAO,IAAI,CAAC2B,KAAK,KAAK,CAAC;EACzB;AACF"},"metadata":{},"sourceType":"module"}