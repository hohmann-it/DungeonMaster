{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { BasicFieldAdapter } from '../../../index';\nexport default class StringFieldAdapter extends BasicFieldAdapter {\n  constructor() {\n    super();\n  }\n  _initProperties(model) {\n    if (model.insertText !== undefined) {\n      // ignore pseudo property initially (to prevent the function StringField#insertText() to be replaced)\n      delete model.insertText;\n    }\n  }\n  _syncInsertText(insertText) {\n    this.widget.insertText(insertText);\n  }\n  _onWidgetSelectionChange(event) {\n    // send delayed to avoid a lot of requests while selecting\n    // coalesce: only send the latest selection changed event for a field\n    this._send('selectionChange', {\n      selectionStart: event.selectionStart,\n      selectionEnd: event.selectionEnd\n    }, {\n      showBusyIndicator: false,\n      delay: 500,\n      coalesce: function (previous) {\n        return this.target === previous.target && this.type === previous.type;\n      }\n    });\n  }\n  _onWidgetAction(event) {\n    this._send('action');\n  }\n  _onWidgetEvent(event) {\n    if (event.type === 'selectionChange') {\n      this._onWidgetSelectionChange(event);\n    } else if (event.type === 'action') {\n      this._onWidgetAction(event);\n    } else {\n      super._onWidgetEvent(event);\n    }\n  }\n}","map":{"version":3,"names":["BasicFieldAdapter","StringFieldAdapter","constructor","_initProperties","model","insertText","undefined","_syncInsertText","widget","_onWidgetSelectionChange","event","_send","selectionStart","selectionEnd","showBusyIndicator","delay","coalesce","previous","target","type","_onWidgetAction","_onWidgetEvent"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/form/fields/stringfield/StringFieldAdapter.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {BasicFieldAdapter} from '../../../index';\n\nexport default class StringFieldAdapter extends BasicFieldAdapter {\n\n  constructor() {\n    super();\n  }\n\n  _initProperties(model) {\n    if (model.insertText !== undefined) {\n      // ignore pseudo property initially (to prevent the function StringField#insertText() to be replaced)\n      delete model.insertText;\n    }\n  }\n\n  _syncInsertText(insertText) {\n    this.widget.insertText(insertText);\n  }\n\n  _onWidgetSelectionChange(event) {\n    // send delayed to avoid a lot of requests while selecting\n    // coalesce: only send the latest selection changed event for a field\n    this._send('selectionChange', {\n      selectionStart: event.selectionStart,\n      selectionEnd: event.selectionEnd\n    }, {\n      showBusyIndicator: false,\n      delay: 500,\n      coalesce: function(previous) {\n        return this.target === previous.target && this.type === previous.type;\n      }\n    });\n  }\n\n  _onWidgetAction(event) {\n    this._send('action');\n  }\n\n  _onWidgetEvent(event) {\n    if (event.type === 'selectionChange') {\n      this._onWidgetSelectionChange(event);\n    } else if (event.type === 'action') {\n      this._onWidgetAction(event);\n    } else {\n      super._onWidgetEvent(event);\n    }\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,iBAAiB,QAAO,gBAAgB;AAEhD,eAAe,MAAMC,kBAAkB,SAASD,iBAAiB,CAAC;EAEhEE,WAAW,GAAG;IACZ,KAAK,EAAE;EACT;EAEAC,eAAe,CAACC,KAAK,EAAE;IACrB,IAAIA,KAAK,CAACC,UAAU,KAAKC,SAAS,EAAE;MAClC;MACA,OAAOF,KAAK,CAACC,UAAU;IACzB;EACF;EAEAE,eAAe,CAACF,UAAU,EAAE;IAC1B,IAAI,CAACG,MAAM,CAACH,UAAU,CAACA,UAAU,CAAC;EACpC;EAEAI,wBAAwB,CAACC,KAAK,EAAE;IAC9B;IACA;IACA,IAAI,CAACC,KAAK,CAAC,iBAAiB,EAAE;MAC5BC,cAAc,EAAEF,KAAK,CAACE,cAAc;MACpCC,YAAY,EAAEH,KAAK,CAACG;IACtB,CAAC,EAAE;MACDC,iBAAiB,EAAE,KAAK;MACxBC,KAAK,EAAE,GAAG;MACVC,QAAQ,EAAE,UAASC,QAAQ,EAAE;QAC3B,OAAO,IAAI,CAACC,MAAM,KAAKD,QAAQ,CAACC,MAAM,IAAI,IAAI,CAACC,IAAI,KAAKF,QAAQ,CAACE,IAAI;MACvE;IACF,CAAC,CAAC;EACJ;EAEAC,eAAe,CAACV,KAAK,EAAE;IACrB,IAAI,CAACC,KAAK,CAAC,QAAQ,CAAC;EACtB;EAEAU,cAAc,CAACX,KAAK,EAAE;IACpB,IAAIA,KAAK,CAACS,IAAI,KAAK,iBAAiB,EAAE;MACpC,IAAI,CAACV,wBAAwB,CAACC,KAAK,CAAC;IACtC,CAAC,MAAM,IAAIA,KAAK,CAACS,IAAI,KAAK,QAAQ,EAAE;MAClC,IAAI,CAACC,eAAe,CAACV,KAAK,CAAC;IAC7B,CAAC,MAAM;MACL,KAAK,CAACW,cAAc,CAACX,KAAK,CAAC;IAC7B;EACF;AACF"},"metadata":{},"sourceType":"module"}