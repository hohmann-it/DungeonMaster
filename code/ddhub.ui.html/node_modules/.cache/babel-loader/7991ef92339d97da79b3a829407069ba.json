{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { HtmlComponent, icons, MobilePopupLayout, Point, scout, WidgetPopup } from '../index';\nexport default class MobilePopup extends WidgetPopup {\n  constructor() {\n    super();\n    this.boundToAnchor = false;\n    this.closable = true;\n    this.title = null;\n    this.withGlassPane = true;\n  }\n  _createLayout() {\n    return new MobilePopupLayout(this);\n  }\n  _createCloseAction() {\n    return scout.create('Action', {\n      parent: this,\n      cssClass: 'closer',\n      iconId: icons.REMOVE_BOLD\n    });\n  }\n  prefLocation(verticalAlignment, horizontalAlignment) {\n    let popupSize = this.htmlComp.prefSize(),\n      windowHeight = this.$container.window().height(),\n      y = Math.max(windowHeight - popupSize.height, 0);\n    return new Point(0, y);\n  }\n  _render() {\n    this.$container = this.$parent.appendDiv('popup mobile-popup');\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.validateRoot = true;\n    this.htmlComp.setLayout(this._createLayout());\n    this.$header = this.$container.appendDiv('mobile-popup-header');\n    this.$title = this.$header.appendDiv('title');\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderTitle();\n  }\n  _renderWidget() {\n    super._renderWidget();\n    if (!this.widget) {\n      return;\n    }\n    this.widget.$container.addClass('mobile-popup-widget');\n  }\n  _renderClosable() {\n    if (this.closeAction) {\n      this.closeAction.render(this.$header);\n    }\n    this.$header.setVisible(this.title || this.closable);\n  }\n  _renderTitle() {\n    this.$title.textOrNbsp(this.title);\n    this.$header.setVisible(this.title || this.closable);\n  }\n}","map":{"version":3,"names":["HtmlComponent","icons","MobilePopupLayout","Point","scout","WidgetPopup","MobilePopup","constructor","boundToAnchor","closable","title","withGlassPane","_createLayout","_createCloseAction","create","parent","cssClass","iconId","REMOVE_BOLD","prefLocation","verticalAlignment","horizontalAlignment","popupSize","htmlComp","prefSize","windowHeight","$container","window","height","y","Math","max","_render","$parent","appendDiv","install","session","validateRoot","setLayout","$header","$title","_renderProperties","_renderTitle","_renderWidget","widget","addClass","_renderClosable","closeAction","render","setVisible","textOrNbsp"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/popup/MobilePopup.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {HtmlComponent, icons, MobilePopupLayout, Point, scout, WidgetPopup} from '../index';\n\nexport default class MobilePopup extends WidgetPopup {\n\n  constructor() {\n    super();\n    this.boundToAnchor = false;\n    this.closable = true;\n    this.title = null;\n    this.withGlassPane = true;\n  }\n\n  _createLayout() {\n    return new MobilePopupLayout(this);\n  }\n\n  _createCloseAction() {\n    return scout.create('Action', {\n      parent: this,\n      cssClass: 'closer',\n      iconId: icons.REMOVE_BOLD\n    });\n  }\n\n  prefLocation(verticalAlignment, horizontalAlignment) {\n    let popupSize = this.htmlComp.prefSize(),\n      windowHeight = this.$container.window().height(),\n      y = Math.max(windowHeight - popupSize.height, 0);\n    return new Point(0, y);\n  }\n\n  _render() {\n    this.$container = this.$parent.appendDiv('popup mobile-popup');\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n    this.htmlComp.validateRoot = true;\n    this.htmlComp.setLayout(this._createLayout());\n\n    this.$header = this.$container.appendDiv('mobile-popup-header');\n    this.$title = this.$header.appendDiv('title');\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderTitle();\n  }\n\n  _renderWidget() {\n    super._renderWidget();\n    if (!this.widget) {\n      return;\n    }\n    this.widget.$container.addClass('mobile-popup-widget');\n  }\n\n  _renderClosable() {\n    if (this.closeAction) {\n      this.closeAction.render(this.$header);\n    }\n    this.$header.setVisible(this.title || this.closable);\n  }\n\n  _renderTitle() {\n    this.$title.textOrNbsp(this.title);\n    this.$header.setVisible(this.title || this.closable);\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,aAAa,EAAEC,KAAK,EAAEC,iBAAiB,EAAEC,KAAK,EAAEC,KAAK,EAAEC,WAAW,QAAO,UAAU;AAE3F,eAAe,MAAMC,WAAW,SAASD,WAAW,CAAC;EAEnDE,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,aAAa,GAAG,IAAI;EAC3B;EAEAC,aAAa,GAAG;IACd,OAAO,IAAIV,iBAAiB,CAAC,IAAI,CAAC;EACpC;EAEAW,kBAAkB,GAAG;IACnB,OAAOT,KAAK,CAACU,MAAM,CAAC,QAAQ,EAAE;MAC5BC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,QAAQ;MAClBC,MAAM,EAAEhB,KAAK,CAACiB;IAChB,CAAC,CAAC;EACJ;EAEAC,YAAY,CAACC,iBAAiB,EAAEC,mBAAmB,EAAE;IACnD,IAAIC,SAAS,GAAG,IAAI,CAACC,QAAQ,CAACC,QAAQ,EAAE;MACtCC,YAAY,GAAG,IAAI,CAACC,UAAU,CAACC,MAAM,EAAE,CAACC,MAAM,EAAE;MAChDC,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACN,YAAY,GAAGH,SAAS,CAACM,MAAM,EAAE,CAAC,CAAC;IAClD,OAAO,IAAIzB,KAAK,CAAC,CAAC,EAAE0B,CAAC,CAAC;EACxB;EAEAG,OAAO,GAAG;IACR,IAAI,CAACN,UAAU,GAAG,IAAI,CAACO,OAAO,CAACC,SAAS,CAAC,oBAAoB,CAAC;IAC9D,IAAI,CAACX,QAAQ,GAAGvB,aAAa,CAACmC,OAAO,CAAC,IAAI,CAACT,UAAU,EAAE,IAAI,CAACU,OAAO,CAAC;IACpE,IAAI,CAACb,QAAQ,CAACc,YAAY,GAAG,IAAI;IACjC,IAAI,CAACd,QAAQ,CAACe,SAAS,CAAC,IAAI,CAAC1B,aAAa,EAAE,CAAC;IAE7C,IAAI,CAAC2B,OAAO,GAAG,IAAI,CAACb,UAAU,CAACQ,SAAS,CAAC,qBAAqB,CAAC;IAC/D,IAAI,CAACM,MAAM,GAAG,IAAI,CAACD,OAAO,CAACL,SAAS,CAAC,OAAO,CAAC;EAC/C;EAEAO,iBAAiB,GAAG;IAClB,KAAK,CAACA,iBAAiB,EAAE;IACzB,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAC,aAAa,GAAG;IACd,KAAK,CAACA,aAAa,EAAE;IACrB,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;MAChB;IACF;IACA,IAAI,CAACA,MAAM,CAAClB,UAAU,CAACmB,QAAQ,CAAC,qBAAqB,CAAC;EACxD;EAEAC,eAAe,GAAG;IAChB,IAAI,IAAI,CAACC,WAAW,EAAE;MACpB,IAAI,CAACA,WAAW,CAACC,MAAM,CAAC,IAAI,CAACT,OAAO,CAAC;IACvC;IACA,IAAI,CAACA,OAAO,CAACU,UAAU,CAAC,IAAI,CAACvC,KAAK,IAAI,IAAI,CAACD,QAAQ,CAAC;EACtD;EAEAiC,YAAY,GAAG;IACb,IAAI,CAACF,MAAM,CAACU,UAAU,CAAC,IAAI,CAACxC,KAAK,CAAC;IAClC,IAAI,CAAC6B,OAAO,CAACU,UAAU,CAAC,IAAI,CAACvC,KAAK,IAAI,IAAI,CAACD,QAAQ,CAAC;EACtD;AACF"},"metadata":{},"sourceType":"module"}