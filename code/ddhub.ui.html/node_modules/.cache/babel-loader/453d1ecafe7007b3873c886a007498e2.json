{"ast":null,"code":"/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, CompositeField, fields, FormField, HtmlComponent, scout, SingleLayout, TabArea, TabBoxLayout } from '../../../index';\nimport $ from 'jquery';\n\n/**\n * Tab-area = where the 1-n tabs are placed (may have multiple runs = lines).\n * Tab-content = where the content of a single tab is displayed.\n */\nexport default class TabBox extends CompositeField {\n  constructor() {\n    super();\n    this.gridDataHints.useUiHeight = true;\n    this.gridDataHints.w = FormField.FULL_WIDTH;\n    this.selectedTab = null;\n    this.tabItems = [];\n    this.tabAreaStyle = TabArea.DisplayStyle.DEFAULT;\n    this._$tabContent = null;\n    this._statusPositionOrig = null;\n    this._addWidgetProperties(['tabItems', 'selectedTab']);\n    this._addPreserveOnPropertyChangeProperties(['selectedTab']);\n    this._tabBoxHeaderPropertyChangeHander = this._onTabBoxHeaderPropertyChange.bind(this);\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _init(model) {\n    super._init(model);\n    this.header = scout.create('TabBoxHeader', {\n      parent: this,\n      tabBox: this\n    });\n    this._initProperties(model);\n    this.header.on('propertyChange', this._tabBoxHeaderPropertyChangeHander);\n  }\n  _initProperties(model) {\n    this._setTabItems(this.tabItems);\n    this._setSelectedTab(this.selectedTab);\n    this._setTabAreaStyle(this.tabAreaStyle);\n  }\n  _destroy() {\n    super._destroy();\n    this.header.off('propertyChange', this._tabBoxHeaderPropertyChangeHander);\n  }\n  _render() {\n    this.addContainer(this.$parent, 'tab-box', new TabBoxLayout(this));\n    this.header.render(this.$container);\n    this.addStatus();\n    this._$tabContent = this.$container.appendDiv('tab-content');\n    let htmlCompContent = HtmlComponent.install(this._$tabContent, this.session);\n    htmlCompContent.setLayout(new SingleLayout());\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _renderProperties() {\n    super._renderProperties();\n    this._renderSelectedTab();\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _remove() {\n    super._remove();\n    this._removeSelectedTab();\n  }\n  getContextMenuItems() {\n    let onlyVisible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    // handled by the menubar\n    return [];\n  }\n  _removeMenus() {\n    // menubar takes care about removal\n  }\n  deleteTabItem(tabItem) {\n    let index = this.tabItems.indexOf(tabItem);\n    let newTabItems = this.tabItems.slice();\n    if (index >= 0) {\n      newTabItems.splice(index, 1);\n      this.setTabItems(newTabItems);\n    }\n  }\n  insertTabItem(tabItem, index) {\n    if (!tabItem) {\n      return;\n    }\n    index = scout.nvl(index, this.tabItems.length);\n    let newTabItems = this.tabItems.slice();\n    newTabItems.splice(index, 0, tabItem);\n    this.setTabItems(newTabItems);\n  }\n  setTabItems(tabItems) {\n    this.setProperty('tabItems', tabItems);\n  }\n  _setTabItems(tabItems) {\n    tabItems = tabItems || [];\n    let tabsToRemove = this.tabItems || [];\n    tabsToRemove.filter(tabItem => tabItems.indexOf(tabItem) < 0).forEach(tabItem => {\n      tabItem.remove();\n    });\n    this._setProperty('tabItems', tabItems);\n    this.header.setTabItems(this.tabItems);\n    // if no tab is selected select first\n    if (this.tabItems.indexOf(this.selectedTab) < 0) {\n      this.setSelectedTab(this.tabItems[0]);\n    }\n  }\n  _renderTabItems(tabItems) {\n    // void only selected tab is rendered\n  }\n  _removeTabItems(tabItems) {\n    // void only selected tab is rendered\n  }\n  _removeTabContent() {\n    this.tabItems.forEach(tabItem => {\n      tabItem.remove();\n    }, this);\n  }\n  selectTabById(tabId) {\n    let tab = this.getTabItem(tabId);\n    if (!tab) {\n      throw new Error('Tab with ID \\'' + tabId + '\\' does not exist');\n    }\n    this.setSelectedTab(tab);\n  }\n  setSelectedTab(tabItem) {\n    this.setProperty('selectedTab', tabItem);\n  }\n  _setSelectedTab(tabItem) {\n    $.log.isDebugEnabled() && $.log.debug('(TabBox#_selectTab) tab=' + tabItem);\n    if (this.selectedTab && this.selectedTab.rendered) {\n      this.selectedTab.remove();\n    }\n    this._setProperty('selectedTab', tabItem);\n    this.header.setSelectedTabItem(this.selectedTab);\n  }\n  _renderSelectedTab() {\n    if (this.selectedTab) {\n      this.selectedTab.render(this._$tabContent);\n      this.selectedTab.get$Scrollable().data('scroll-shadow-customizer', this._updateScrollShadow.bind(this));\n    }\n    if (this.rendered) {\n      this._updateScrollShadow();\n      HtmlComponent.get(this._$tabContent).invalidateLayoutTree();\n    }\n  }\n  _removeSelectedTab() {\n    if (this.selectedTab) {\n      this.selectedTab.get$Scrollable().removeData('scroll-shadow-customizer');\n      this.selectedTab.remove();\n    }\n  }\n  _updateScrollShadow() {\n    if (!this.rendered) {\n      return;\n    }\n    let hasScrollShadowTop = this.selectedTab && this.selectedTab.hasScrollShadow('top');\n    let oldHasScrollShadowTop = this.$container.hasClass('has-scroll-shadow-top');\n    this.$container.toggleClass('has-scroll-shadow-top', hasScrollShadowTop);\n    if (oldHasScrollShadowTop !== hasScrollShadowTop) {\n      this.invalidateLayoutTree(false);\n    }\n\n    // Enlarge header line if there is a shadow, but only if there is a header (controlled by labelVisible)\n    fields.adjustStatusPositionForScrollShadow(this, () => hasScrollShadowTop && this.labelVisible);\n  }\n  setTabAreaStyle(tabAreaStyle) {\n    this.setProperty('tabAreaStyle', tabAreaStyle);\n  }\n  _setTabAreaStyle(tabAreaStyle) {\n    this.tabAreaStyle = tabAreaStyle;\n    if (this.header && this.header.tabArea) {\n      this.header.tabArea.setDisplayStyle(tabAreaStyle);\n    }\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _renderStatusPosition() {\n    super._renderStatusPosition();\n    if (!this.fieldStatus) {\n      return;\n    }\n    if (this.statusPosition === FormField.StatusPosition.TOP) {\n      // move into header\n      this.$status.appendTo(this.header.$container);\n    } else {\n      this.$status.appendTo(this.$container);\n    }\n    this.invalidateLayoutTree();\n  }\n  _updateFieldStatus() {\n    super._updateFieldStatus();\n    if (this.selectedTab && this.selectedTab.notification) {\n      // Also invalidate tab item if a notification is shown because notification size depends on status visibility\n      this.selectedTab.invalidateLayoutTree();\n    }\n  }\n  _renderLabelVisible() {\n    super._renderLabelVisible();\n    this._updateScrollShadow();\n  }\n\n  /**\n   * @override CompositeField.js\n   */\n  getFields() {\n    return this.tabItems;\n  }\n  getTabItem(tabId) {\n    return arrays.find(this.tabItems, tabItem => {\n      return tabItem.id === tabId;\n    });\n  }\n\n  /**\n   * @override FormField.js\n   */\n  focus() {\n    if (!this.rendered) {\n      this.session.layoutValidator.schedulePostValidateFunction(this.focus.bind(this));\n      return false;\n    }\n    if (this.selectedTab) {\n      return this.selectedTab.focus();\n    }\n  }\n\n  /**\n   * @override\n   */\n  getFocusableElement() {\n    if (this.selectedTab) {\n      return this.selectedTab.getFocusableElement();\n    }\n    return null;\n  }\n  isTabItemFocused(tabItem) {\n    return this.header.isTabItemFocused(tabItem);\n  }\n  focusTabItem(tabItem) {\n    if (this.selectedTab !== tabItem) {\n      this.selectTab(tabItem);\n    }\n    this.header.focusTabItem(tabItem);\n  }\n  getTabForItem(tabItem) {\n    return this.header.getTabForItem(tabItem);\n  }\n  _onTabBoxHeaderPropertyChange(event) {\n    if (event.propertyName === 'selectedTabItem') {\n      this.setSelectedTab(event.newValue);\n    }\n  }\n}","map":{"version":3,"names":["arrays","CompositeField","fields","FormField","HtmlComponent","scout","SingleLayout","TabArea","TabBoxLayout","$","TabBox","constructor","gridDataHints","useUiHeight","w","FULL_WIDTH","selectedTab","tabItems","tabAreaStyle","DisplayStyle","DEFAULT","_$tabContent","_statusPositionOrig","_addWidgetProperties","_addPreserveOnPropertyChangeProperties","_tabBoxHeaderPropertyChangeHander","_onTabBoxHeaderPropertyChange","bind","_init","model","header","create","parent","tabBox","_initProperties","on","_setTabItems","_setSelectedTab","_setTabAreaStyle","_destroy","off","_render","addContainer","$parent","render","$container","addStatus","appendDiv","htmlCompContent","install","session","setLayout","_renderProperties","_renderSelectedTab","_remove","_removeSelectedTab","getContextMenuItems","onlyVisible","_removeMenus","deleteTabItem","tabItem","index","indexOf","newTabItems","slice","splice","setTabItems","insertTabItem","nvl","length","setProperty","tabsToRemove","filter","forEach","remove","_setProperty","setSelectedTab","_renderTabItems","_removeTabItems","_removeTabContent","selectTabById","tabId","tab","getTabItem","Error","log","isDebugEnabled","debug","rendered","setSelectedTabItem","get$Scrollable","data","_updateScrollShadow","get","invalidateLayoutTree","removeData","hasScrollShadowTop","hasScrollShadow","oldHasScrollShadowTop","hasClass","toggleClass","adjustStatusPositionForScrollShadow","labelVisible","setTabAreaStyle","tabArea","setDisplayStyle","_renderStatusPosition","fieldStatus","statusPosition","StatusPosition","TOP","$status","appendTo","_updateFieldStatus","notification","_renderLabelVisible","getFields","find","id","focus","layoutValidator","schedulePostValidateFunction","getFocusableElement","isTabItemFocused","focusTabItem","selectTab","getTabForItem","event","propertyName","newValue"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/form/fields/tabbox/TabBox.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, CompositeField, fields, FormField, HtmlComponent, scout, SingleLayout, TabArea, TabBoxLayout} from '../../../index';\nimport $ from 'jquery';\n\n/**\n * Tab-area = where the 1-n tabs are placed (may have multiple runs = lines).\n * Tab-content = where the content of a single tab is displayed.\n */\nexport default class TabBox extends CompositeField {\n\n  constructor() {\n    super();\n\n    this.gridDataHints.useUiHeight = true;\n    this.gridDataHints.w = FormField.FULL_WIDTH;\n    this.selectedTab = null;\n    this.tabItems = [];\n    this.tabAreaStyle = TabArea.DisplayStyle.DEFAULT;\n\n    this._$tabContent = null;\n    this._statusPositionOrig = null;\n    this._addWidgetProperties(['tabItems', 'selectedTab']);\n    this._addPreserveOnPropertyChangeProperties(['selectedTab']);\n\n    this._tabBoxHeaderPropertyChangeHander = this._onTabBoxHeaderPropertyChange.bind(this);\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _init(model) {\n    super._init(model);\n    this.header = scout.create('TabBoxHeader', {\n      parent: this,\n      tabBox: this\n    });\n\n    this._initProperties(model);\n    this.header.on('propertyChange', this._tabBoxHeaderPropertyChangeHander);\n  }\n\n  _initProperties(model) {\n    this._setTabItems(this.tabItems);\n    this._setSelectedTab(this.selectedTab);\n    this._setTabAreaStyle(this.tabAreaStyle);\n  }\n\n  _destroy() {\n    super._destroy();\n    this.header.off('propertyChange', this._tabBoxHeaderPropertyChangeHander);\n  }\n\n  _render() {\n    this.addContainer(this.$parent, 'tab-box', new TabBoxLayout(this));\n\n    this.header.render(this.$container);\n    this.addStatus();\n\n    this._$tabContent = this.$container.appendDiv('tab-content');\n    let htmlCompContent = HtmlComponent.install(this._$tabContent, this.session);\n    htmlCompContent.setLayout(new SingleLayout());\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _renderProperties() {\n    super._renderProperties();\n    this._renderSelectedTab();\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _remove() {\n    super._remove();\n    this._removeSelectedTab();\n  }\n\n  getContextMenuItems(onlyVisible = true) {\n    // handled by the menubar\n    return [];\n  }\n\n  _removeMenus() {\n    // menubar takes care about removal\n  }\n\n  deleteTabItem(tabItem) {\n    let index = this.tabItems.indexOf(tabItem);\n    let newTabItems = this.tabItems.slice();\n    if (index >= 0) {\n      newTabItems.splice(index, 1);\n      this.setTabItems(newTabItems);\n    }\n  }\n\n  insertTabItem(tabItem, index) {\n    if (!tabItem) {\n      return;\n    }\n    index = scout.nvl(index, this.tabItems.length);\n    let newTabItems = this.tabItems.slice();\n    newTabItems.splice(index, 0, tabItem);\n    this.setTabItems(newTabItems);\n  }\n\n  setTabItems(tabItems) {\n    this.setProperty('tabItems', tabItems);\n  }\n\n  _setTabItems(tabItems) {\n    tabItems = tabItems || [];\n    let tabsToRemove = this.tabItems || [];\n    tabsToRemove.filter(tabItem => tabItems.indexOf(tabItem) < 0\n    ).forEach(tabItem => {\n      tabItem.remove();\n    });\n\n    this._setProperty('tabItems', tabItems);\n    this.header.setTabItems(this.tabItems);\n    // if no tab is selected select first\n    if (this.tabItems.indexOf(this.selectedTab) < 0) {\n      this.setSelectedTab(this.tabItems[0]);\n    }\n  }\n\n  _renderTabItems(tabItems) {\n    // void only selected tab is rendered\n  }\n\n  _removeTabItems(tabItems) {\n    // void only selected tab is rendered\n  }\n\n  _removeTabContent() {\n    this.tabItems.forEach(tabItem => {\n      tabItem.remove();\n    }, this);\n  }\n\n  selectTabById(tabId) {\n    let tab = this.getTabItem(tabId);\n    if (!tab) {\n      throw new Error('Tab with ID \\'' + tabId + '\\' does not exist');\n    }\n    this.setSelectedTab(tab);\n  }\n\n  setSelectedTab(tabItem) {\n    this.setProperty('selectedTab', tabItem);\n  }\n\n  _setSelectedTab(tabItem) {\n    $.log.isDebugEnabled() && $.log.debug('(TabBox#_selectTab) tab=' + tabItem);\n    if (this.selectedTab && this.selectedTab.rendered) {\n      this.selectedTab.remove();\n    }\n    this._setProperty('selectedTab', tabItem);\n    this.header.setSelectedTabItem(this.selectedTab);\n  }\n\n  _renderSelectedTab() {\n    if (this.selectedTab) {\n      this.selectedTab.render(this._$tabContent);\n      this.selectedTab.get$Scrollable().data('scroll-shadow-customizer', this._updateScrollShadow.bind(this));\n    }\n    if (this.rendered) {\n      this._updateScrollShadow();\n      HtmlComponent.get(this._$tabContent).invalidateLayoutTree();\n    }\n  }\n\n  _removeSelectedTab() {\n    if (this.selectedTab) {\n      this.selectedTab.get$Scrollable().removeData('scroll-shadow-customizer');\n      this.selectedTab.remove();\n    }\n  }\n\n  _updateScrollShadow() {\n    if (!this.rendered) {\n      return;\n    }\n    let hasScrollShadowTop = this.selectedTab && this.selectedTab.hasScrollShadow('top');\n    let oldHasScrollShadowTop = this.$container.hasClass('has-scroll-shadow-top');\n    this.$container.toggleClass('has-scroll-shadow-top', hasScrollShadowTop);\n    if (oldHasScrollShadowTop !== hasScrollShadowTop) {\n      this.invalidateLayoutTree(false);\n    }\n\n    // Enlarge header line if there is a shadow, but only if there is a header (controlled by labelVisible)\n    fields.adjustStatusPositionForScrollShadow(this, () => hasScrollShadowTop && this.labelVisible);\n  }\n\n  setTabAreaStyle(tabAreaStyle) {\n    this.setProperty('tabAreaStyle', tabAreaStyle);\n  }\n\n  _setTabAreaStyle(tabAreaStyle) {\n    this.tabAreaStyle = tabAreaStyle;\n    if (this.header && this.header.tabArea) {\n      this.header.tabArea.setDisplayStyle(tabAreaStyle);\n    }\n  }\n\n  /**\n   * @override FormField.js\n   */\n  _renderStatusPosition() {\n    super._renderStatusPosition();\n    if (!this.fieldStatus) {\n      return;\n    }\n    if (this.statusPosition === FormField.StatusPosition.TOP) {\n      // move into header\n      this.$status.appendTo(this.header.$container);\n    } else {\n      this.$status.appendTo(this.$container);\n    }\n    this.invalidateLayoutTree();\n  }\n\n  _updateFieldStatus() {\n    super._updateFieldStatus();\n    if (this.selectedTab && this.selectedTab.notification) {\n      // Also invalidate tab item if a notification is shown because notification size depends on status visibility\n      this.selectedTab.invalidateLayoutTree();\n    }\n  }\n\n  _renderLabelVisible() {\n    super._renderLabelVisible();\n    this._updateScrollShadow();\n  }\n\n  /**\n   * @override CompositeField.js\n   */\n  getFields() {\n    return this.tabItems;\n  }\n\n  getTabItem(tabId) {\n    return arrays.find(this.tabItems, tabItem => {\n      return tabItem.id === tabId;\n    });\n  }\n\n  /**\n   * @override FormField.js\n   */\n  focus() {\n    if (!this.rendered) {\n      this.session.layoutValidator.schedulePostValidateFunction(this.focus.bind(this));\n      return false;\n    }\n    if (this.selectedTab) {\n      return this.selectedTab.focus();\n    }\n  }\n\n  /**\n   * @override\n   */\n  getFocusableElement() {\n    if (this.selectedTab) {\n      return this.selectedTab.getFocusableElement();\n    }\n    return null;\n  }\n\n  isTabItemFocused(tabItem) {\n    return this.header.isTabItemFocused(tabItem);\n  }\n\n  focusTabItem(tabItem) {\n    if (this.selectedTab !== tabItem) {\n      this.selectTab(tabItem);\n    }\n    this.header.focusTabItem(tabItem);\n  }\n\n  getTabForItem(tabItem) {\n    return this.header.getTabForItem(tabItem);\n  }\n\n  _onTabBoxHeaderPropertyChange(event) {\n    if (event.propertyName === 'selectedTabItem') {\n      this.setSelectedTab(event.newValue);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}