{"ast":null,"code":"/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { DesktopNotification, scout, Status } from '../../index';\nexport default class PopupBlockerDesktopNotification extends DesktopNotification {\n  constructor() {\n    super();\n    this.duration = DesktopNotification.INFINITE;\n    this.linkUrl;\n    this.preserveOpener = false;\n  }\n  _init(model) {\n    super._init(model);\n    this.linkText = scout.nvl(this.linkText, this.session.text('ui.OpenManually'));\n    this._setStatus({\n      message: this.session.text('ui.PopupBlockerDetected'),\n      severity: Status.Severity.WARNING\n    });\n  }\n  _render() {\n    super._render();\n    this.$messageText.addClass('popup-blocked-title');\n    this.$link = this.$content.appendElement('<a>', 'popup-blocked-link').text(this.linkText).on('click', this._onLinkClick.bind(this));\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderLinkUrl();\n  }\n  _renderLinkUrl() {\n    if (this.linkUrl) {\n      this.$link.attr('href', this.linkUrl).attr('target', '_blank');\n      if (!this.preserveOpener) {\n        this.$link.attr('rel', 'noreferrer noopener');\n      }\n    } else {\n      this.$link.removeAttr('href').removeAttr('target');\n    }\n  }\n  _onLinkClick() {\n    this.trigger('linkClick');\n    this.hide();\n  }\n}","map":{"version":3,"names":["DesktopNotification","scout","Status","PopupBlockerDesktopNotification","constructor","duration","INFINITE","linkUrl","preserveOpener","_init","model","linkText","nvl","session","text","_setStatus","message","severity","Severity","WARNING","_render","$messageText","addClass","$link","$content","appendElement","on","_onLinkClick","bind","_renderProperties","_renderLinkUrl","attr","removeAttr","trigger","hide"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/popupblocker/PopupBlockerDesktopNotification.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {DesktopNotification, scout, Status} from '../../index';\n\nexport default class PopupBlockerDesktopNotification extends DesktopNotification {\n\n  constructor() {\n    super();\n    this.duration = DesktopNotification.INFINITE;\n    this.linkUrl;\n    this.preserveOpener = false;\n  }\n\n  _init(model) {\n    super._init(model);\n    this.linkText = scout.nvl(this.linkText, this.session.text('ui.OpenManually'));\n    this._setStatus({\n      message: this.session.text('ui.PopupBlockerDetected'),\n      severity: Status.Severity.WARNING\n    });\n  }\n\n  _render() {\n    super._render();\n\n    this.$messageText.addClass('popup-blocked-title');\n    this.$link = this.$content.appendElement('<a>', 'popup-blocked-link')\n      .text(this.linkText)\n      .on('click', this._onLinkClick.bind(this));\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderLinkUrl();\n  }\n\n  _renderLinkUrl() {\n    if (this.linkUrl) {\n      this.$link\n        .attr('href', this.linkUrl)\n        .attr('target', '_blank');\n      if (!this.preserveOpener) {\n        this.$link.attr('rel', 'noreferrer noopener');\n      }\n    } else {\n      this.$link.removeAttr('href')\n        .removeAttr('target');\n    }\n  }\n\n  _onLinkClick() {\n    this.trigger('linkClick');\n    this.hide();\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,mBAAmB,EAAEC,KAAK,EAAEC,MAAM,QAAO,aAAa;AAE9D,eAAe,MAAMC,+BAA+B,SAASH,mBAAmB,CAAC;EAE/EI,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,QAAQ,GAAGL,mBAAmB,CAACM,QAAQ;IAC5C,IAAI,CAACC,OAAO;IACZ,IAAI,CAACC,cAAc,GAAG,KAAK;EAC7B;EAEAC,KAAK,CAACC,KAAK,EAAE;IACX,KAAK,CAACD,KAAK,CAACC,KAAK,CAAC;IAClB,IAAI,CAACC,QAAQ,GAAGV,KAAK,CAACW,GAAG,CAAC,IAAI,CAACD,QAAQ,EAAE,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC9E,IAAI,CAACC,UAAU,CAAC;MACdC,OAAO,EAAE,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAC;MACrDG,QAAQ,EAAEf,MAAM,CAACgB,QAAQ,CAACC;IAC5B,CAAC,CAAC;EACJ;EAEAC,OAAO,GAAG;IACR,KAAK,CAACA,OAAO,EAAE;IAEf,IAAI,CAACC,YAAY,CAACC,QAAQ,CAAC,qBAAqB,CAAC;IACjD,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,KAAK,EAAE,oBAAoB,CAAC,CAClEX,IAAI,CAAC,IAAI,CAACH,QAAQ,CAAC,CACnBe,EAAE,CAAC,OAAO,EAAE,IAAI,CAACC,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC9C;EAEAC,iBAAiB,GAAG;IAClB,KAAK,CAACA,iBAAiB,EAAE;IACzB,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc,GAAG;IACf,IAAI,IAAI,CAACvB,OAAO,EAAE;MAChB,IAAI,CAACgB,KAAK,CACPQ,IAAI,CAAC,MAAM,EAAE,IAAI,CAACxB,OAAO,CAAC,CAC1BwB,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC;MAC3B,IAAI,CAAC,IAAI,CAACvB,cAAc,EAAE;QACxB,IAAI,CAACe,KAAK,CAACQ,IAAI,CAAC,KAAK,EAAE,qBAAqB,CAAC;MAC/C;IACF,CAAC,MAAM;MACL,IAAI,CAACR,KAAK,CAACS,UAAU,CAAC,MAAM,CAAC,CAC1BA,UAAU,CAAC,QAAQ,CAAC;IACzB;EACF;EAEAL,YAAY,GAAG;IACb,IAAI,CAACM,OAAO,CAAC,WAAW,CAAC;IACzB,IAAI,CAACC,IAAI,EAAE;EACb;AACF"},"metadata":{},"sourceType":"module"}