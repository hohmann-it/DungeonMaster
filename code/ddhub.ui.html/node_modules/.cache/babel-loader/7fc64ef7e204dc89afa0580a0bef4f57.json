{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { keys, RangeKeyStroke } from '../../index';\n\n/**\n * Composite keystroke to provide a numeric keystroke to select view tabs.\n */\nexport default class DesktopTabSelectKeyStroke extends RangeKeyStroke {\n  constructor(desktop) {\n    super();\n    this.field = desktop;\n\n    // modifier\n    this.parseAndSetKeyStroke(desktop.selectViewTabsKeyStrokeModifier);\n\n    // range [1..9]\n    this.registerRange(keys['1'],\n    // range from\n    () => {\n      return keys[Math.min(this._viewTabs().length, 9)]; // range to\n    });\n\n    // rendering hints\n    this.renderingHints.$drawingArea = ($drawingArea, event) => {\n      let viewIndex = event.which - keys['1'];\n      return this._viewTabs()[viewIndex].$container;\n    };\n    this.inheritAccessibility = false;\n  }\n\n  /**\n   * @override KeyStroke.js\n   */\n  _isEnabled() {\n    let enabled = super._isEnabled();\n    return enabled && this.field.selectViewTabsKeyStrokesEnabled && this._viewTabs().length > 0;\n  }\n\n  /**\n   * @override KeyStroke.js\n   */\n  handle(event) {\n    let viewIndex = event.which - keys['1'];\n    if (this._viewTabs().length && viewIndex < this._viewTabs().length) {\n      let viewTab = this._viewTabs()[viewIndex];\n      if (this.field.bench) {\n        this.field.bench.activateView(viewTab.view);\n      }\n    }\n  }\n  _viewTabs() {\n    if (this.field.bench) {\n      return this.field.bench.getTabs();\n    }\n    return [];\n  }\n}","map":{"version":3,"names":["keys","RangeKeyStroke","DesktopTabSelectKeyStroke","constructor","desktop","field","parseAndSetKeyStroke","selectViewTabsKeyStrokeModifier","registerRange","Math","min","_viewTabs","length","renderingHints","$drawingArea","event","viewIndex","which","$container","inheritAccessibility","_isEnabled","enabled","selectViewTabsKeyStrokesEnabled","handle","viewTab","bench","activateView","view","getTabs"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/bench/DesktopTabSelectKeyStroke.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {keys, RangeKeyStroke} from '../../index';\n\n/**\n * Composite keystroke to provide a numeric keystroke to select view tabs.\n */\nexport default class DesktopTabSelectKeyStroke extends RangeKeyStroke {\n\n  constructor(desktop) {\n    super();\n    this.field = desktop;\n\n    // modifier\n    this.parseAndSetKeyStroke(desktop.selectViewTabsKeyStrokeModifier);\n\n    // range [1..9]\n    this.registerRange(\n      keys['1'], // range from\n      () => {\n        return keys[Math.min(this._viewTabs().length, 9)]; // range to\n      }\n    );\n\n    // rendering hints\n    this.renderingHints.$drawingArea = ($drawingArea, event) => {\n      let viewIndex = event.which - keys['1'];\n      return this._viewTabs()[viewIndex].$container;\n    };\n    this.inheritAccessibility = false;\n  }\n\n  /**\n   * @override KeyStroke.js\n   */\n  _isEnabled() {\n    let enabled = super._isEnabled();\n    return enabled && this.field.selectViewTabsKeyStrokesEnabled && this._viewTabs().length > 0;\n  }\n\n  /**\n   * @override KeyStroke.js\n   */\n  handle(event) {\n    let viewIndex = event.which - keys['1'];\n\n    if (this._viewTabs().length && viewIndex < this._viewTabs().length) {\n      let viewTab = this._viewTabs()[viewIndex];\n      if (this.field.bench) {\n        this.field.bench.activateView(viewTab.view);\n      }\n    }\n  }\n\n  _viewTabs() {\n    if (this.field.bench) {\n      return this.field.bench.getTabs();\n    }\n    return [];\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,IAAI,EAAEC,cAAc,QAAO,aAAa;;AAEhD;AACA;AACA;AACA,eAAe,MAAMC,yBAAyB,SAASD,cAAc,CAAC;EAEpEE,WAAW,CAACC,OAAO,EAAE;IACnB,KAAK,EAAE;IACP,IAAI,CAACC,KAAK,GAAGD,OAAO;;IAEpB;IACA,IAAI,CAACE,oBAAoB,CAACF,OAAO,CAACG,+BAA+B,CAAC;;IAElE;IACA,IAAI,CAACC,aAAa,CAChBR,IAAI,CAAC,GAAG,CAAC;IAAE;IACX,MAAM;MACJ,OAAOA,IAAI,CAACS,IAAI,CAACC,GAAG,CAAC,IAAI,CAACC,SAAS,EAAE,CAACC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC,CACF;;IAED;IACA,IAAI,CAACC,cAAc,CAACC,YAAY,GAAG,CAACA,YAAY,EAAEC,KAAK,KAAK;MAC1D,IAAIC,SAAS,GAAGD,KAAK,CAACE,KAAK,GAAGjB,IAAI,CAAC,GAAG,CAAC;MACvC,OAAO,IAAI,CAACW,SAAS,EAAE,CAACK,SAAS,CAAC,CAACE,UAAU;IAC/C,CAAC;IACD,IAAI,CAACC,oBAAoB,GAAG,KAAK;EACnC;;EAEA;AACF;AACA;EACEC,UAAU,GAAG;IACX,IAAIC,OAAO,GAAG,KAAK,CAACD,UAAU,EAAE;IAChC,OAAOC,OAAO,IAAI,IAAI,CAAChB,KAAK,CAACiB,+BAA+B,IAAI,IAAI,CAACX,SAAS,EAAE,CAACC,MAAM,GAAG,CAAC;EAC7F;;EAEA;AACF;AACA;EACEW,MAAM,CAACR,KAAK,EAAE;IACZ,IAAIC,SAAS,GAAGD,KAAK,CAACE,KAAK,GAAGjB,IAAI,CAAC,GAAG,CAAC;IAEvC,IAAI,IAAI,CAACW,SAAS,EAAE,CAACC,MAAM,IAAII,SAAS,GAAG,IAAI,CAACL,SAAS,EAAE,CAACC,MAAM,EAAE;MAClE,IAAIY,OAAO,GAAG,IAAI,CAACb,SAAS,EAAE,CAACK,SAAS,CAAC;MACzC,IAAI,IAAI,CAACX,KAAK,CAACoB,KAAK,EAAE;QACpB,IAAI,CAACpB,KAAK,CAACoB,KAAK,CAACC,YAAY,CAACF,OAAO,CAACG,IAAI,CAAC;MAC7C;IACF;EACF;EAEAhB,SAAS,GAAG;IACV,IAAI,IAAI,CAACN,KAAK,CAACoB,KAAK,EAAE;MACpB,OAAO,IAAI,CAACpB,KAAK,CAACoB,KAAK,CAACG,OAAO,EAAE;IACnC;IACA,OAAO,EAAE;EACX;AACF"},"metadata":{},"sourceType":"module"}