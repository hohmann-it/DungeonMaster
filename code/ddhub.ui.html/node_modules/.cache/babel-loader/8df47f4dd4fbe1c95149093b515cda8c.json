{"ast":null,"code":"/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { strings, texts, ValueField } from '../../../index';\nexport default class LabelField extends ValueField {\n  constructor() {\n    super();\n    this.htmlEnabled = false;\n    this.selectable = true;\n    this.wrapText = false;\n    this.preventInitialFocus = true;\n  }\n\n  /**\n   * Resolves the text key if value contains one.\n   * This cannot be done in _init because the value field would call _setValue first\n   */\n  _initValue(value) {\n    value = texts.resolveText(value, this.session.locale.languageTag);\n    super._initValue(value);\n  }\n  _render() {\n    this.addContainer(this.$parent, 'label-field');\n    this.addLabel();\n    this.addField(this.$parent.makeDiv());\n    this.addStatus();\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderWrapText();\n    this._renderSelectable();\n  }\n\n  /**\n   * @override\n   */\n  _renderFocused() {\n    // NOP, don't add \"focused\" class. It doesn't look good when the label is highlighted but no cursor is visible.\n  }\n\n  /**\n   * Since a LabelField cannot be changed by a user, acceptInput does nothing.\n   * Otherwise LabelFields could 'become' touched, because value and displayText\n   * of the LabelField don't match.\n   */\n  acceptInput() {\n    // NOP\n  }\n  setHtmlEnabled(htmlEnabled) {\n    this.setProperty('htmlEnabled', htmlEnabled);\n  }\n  _renderHtmlEnabled() {\n    // Render the display text again when html enabled changes dynamically\n    this._renderDisplayText();\n  }\n\n  /**\n   * @override\n   */\n  _renderDisplayText() {\n    let displayText = this.displayText || '';\n    if (this.htmlEnabled) {\n      this.$field.html(displayText);\n\n      // Add action to app-links\n      this.$field.find('.app-link').on('click', this._onAppLinkAction.bind(this));\n    } else {\n      this.$field.html(strings.nl2br(displayText));\n    }\n    this.invalidateLayoutTree();\n  }\n  setWrapText(wrapText) {\n    this.setProperty('wrapText', wrapText);\n  }\n  _renderWrapText() {\n    this.$field.toggleClass('white-space-nowrap', !this.wrapText);\n    this.invalidateLayoutTree();\n  }\n  setSelectable(selectable) {\n    this.setProperty('selectable', selectable);\n  }\n  _renderSelectable() {\n    this.$container.toggleClass('selectable', !!this.selectable);\n    // Allow this field to receive the focus when selecting text with the mouse. Otherwise, form\n    // keystrokes would no longer work because the focus would automatically be set to the desktop\n    // for lack of alternatives. The value -1 ensures the field is skipped when tabbing through\n    // all form fields.\n    this.$field.toggleAttr('tabindex', !!this.selectable, '-1');\n  }\n  _renderGridData() {\n    super._renderGridData();\n    this.updateInnerAlignment({\n      useHorizontalAlignment: true\n    });\n  }\n  _renderGridDataHints() {\n    super._renderGridDataHints();\n    this.updateInnerAlignment({\n      useHorizontalAlignment: true\n    });\n  }\n  _onAppLinkAction(event) {\n    let $target = $(event.delegateTarget);\n    let ref = $target.data('ref');\n    this.triggerAppLinkAction(ref);\n  }\n  triggerAppLinkAction(ref) {\n    this.trigger('appLinkAction', {\n      ref: ref\n    });\n  }\n  addField($field) {\n    super.addField($field);\n    this.$field.off('blur').off('focus');\n  }\n}","map":{"version":3,"names":["strings","texts","ValueField","LabelField","constructor","htmlEnabled","selectable","wrapText","preventInitialFocus","_initValue","value","resolveText","session","locale","languageTag","_render","addContainer","$parent","addLabel","addField","makeDiv","addStatus","_renderProperties","_renderWrapText","_renderSelectable","_renderFocused","acceptInput","setHtmlEnabled","setProperty","_renderHtmlEnabled","_renderDisplayText","displayText","$field","html","find","on","_onAppLinkAction","bind","nl2br","invalidateLayoutTree","setWrapText","toggleClass","setSelectable","$container","toggleAttr","_renderGridData","updateInnerAlignment","useHorizontalAlignment","_renderGridDataHints","event","$target","$","delegateTarget","ref","data","triggerAppLinkAction","trigger","off"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/form/fields/labelfield/LabelField.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {strings, texts, ValueField} from '../../../index';\n\nexport default class LabelField extends ValueField {\n\n  constructor() {\n    super();\n    this.htmlEnabled = false;\n    this.selectable = true;\n    this.wrapText = false;\n    this.preventInitialFocus = true;\n  }\n\n  /**\n   * Resolves the text key if value contains one.\n   * This cannot be done in _init because the value field would call _setValue first\n   */\n  _initValue(value) {\n    value = texts.resolveText(value, this.session.locale.languageTag);\n    super._initValue(value);\n  }\n\n  _render() {\n    this.addContainer(this.$parent, 'label-field');\n    this.addLabel();\n    this.addField(this.$parent.makeDiv());\n    this.addStatus();\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderWrapText();\n    this._renderSelectable();\n  }\n\n  /**\n   * @override\n   */\n  _renderFocused() {\n    // NOP, don't add \"focused\" class. It doesn't look good when the label is highlighted but no cursor is visible.\n  }\n\n  /**\n   * Since a LabelField cannot be changed by a user, acceptInput does nothing.\n   * Otherwise LabelFields could 'become' touched, because value and displayText\n   * of the LabelField don't match.\n   */\n  acceptInput() {\n    // NOP\n  }\n\n  setHtmlEnabled(htmlEnabled) {\n    this.setProperty('htmlEnabled', htmlEnabled);\n  }\n\n  _renderHtmlEnabled() {\n    // Render the display text again when html enabled changes dynamically\n    this._renderDisplayText();\n  }\n\n  /**\n   * @override\n   */\n  _renderDisplayText() {\n    let displayText = this.displayText || '';\n    if (this.htmlEnabled) {\n      this.$field.html(displayText);\n\n      // Add action to app-links\n      this.$field.find('.app-link')\n        .on('click', this._onAppLinkAction.bind(this));\n    } else {\n      this.$field.html(strings.nl2br(displayText));\n    }\n\n    this.invalidateLayoutTree();\n  }\n\n  setWrapText(wrapText) {\n    this.setProperty('wrapText', wrapText);\n  }\n\n  _renderWrapText() {\n    this.$field.toggleClass('white-space-nowrap', !this.wrapText);\n    this.invalidateLayoutTree();\n  }\n\n  setSelectable(selectable) {\n    this.setProperty('selectable', selectable);\n  }\n\n  _renderSelectable() {\n    this.$container.toggleClass('selectable', !!this.selectable);\n    // Allow this field to receive the focus when selecting text with the mouse. Otherwise, form\n    // keystrokes would no longer work because the focus would automatically be set to the desktop\n    // for lack of alternatives. The value -1 ensures the field is skipped when tabbing through\n    // all form fields.\n    this.$field.toggleAttr('tabindex', !!this.selectable, '-1');\n  }\n\n  _renderGridData() {\n    super._renderGridData();\n    this.updateInnerAlignment({\n      useHorizontalAlignment: true\n    });\n  }\n\n  _renderGridDataHints() {\n    super._renderGridDataHints();\n    this.updateInnerAlignment({\n      useHorizontalAlignment: true\n    });\n  }\n\n  _onAppLinkAction(event) {\n    let $target = $(event.delegateTarget);\n    let ref = $target.data('ref');\n    this.triggerAppLinkAction(ref);\n  }\n\n  triggerAppLinkAction(ref) {\n    this.trigger('appLinkAction', {\n      ref: ref\n    });\n  }\n\n  addField($field) {\n    super.addField($field);\n    this.$field.off('blur')\n      .off('focus');\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}