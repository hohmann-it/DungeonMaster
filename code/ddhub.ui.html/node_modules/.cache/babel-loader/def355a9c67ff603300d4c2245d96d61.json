{"ast":null,"code":"/*\n * Copyright (c) 2014-2019 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { HtmlComponent, Menu, widgets } from '../index';\nexport default class ComboMenu extends Menu {\n  constructor() {\n    super();\n    this._childVisibleChangeHandler = this._onChildVisibleChange.bind(this);\n  }\n  _render() {\n    this.$container = this.$parent.appendDiv('menu-item combo-menu');\n    if (this.uiCssClass) {\n      this.$container.addClass(this.uiCssClass);\n    }\n    this.$container.unfocusable();\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderChildActions();\n  }\n  _setChildActions(childActions) {\n    this.childActions.forEach(child => child.off('propertyChange:visible', this._childVisibleChangeHandler));\n    super._setChildActions(childActions);\n    this.childActions.forEach(child => child.on('propertyChange:visible', this._childVisibleChangeHandler));\n  }\n  _renderChildActions() {\n    super._renderChildActions();\n    this.childActions.forEach(childAction => {\n      childAction.addCssClass('combo-menu-child');\n      childAction.render();\n    });\n    widgets.updateFirstLastMarker(this.childActions);\n  }\n\n  // @override\n  _togglesSubMenu() {\n    return false;\n  }\n  _onChildVisibleChange(event) {\n    if (this.rendered) {\n      widgets.updateFirstLastMarker(this.childActions);\n    }\n  }\n  _doActionTogglesPopup() {\n    return false;\n  }\n  isToggleAction() {\n    return false;\n  }\n  isTabTarget() {\n    // To make children tabbable, combo menu must never be a tab target, even if its a default menu\n    return false;\n  }\n}","map":{"version":3,"names":["HtmlComponent","Menu","widgets","ComboMenu","constructor","_childVisibleChangeHandler","_onChildVisibleChange","bind","_render","$container","$parent","appendDiv","uiCssClass","addClass","unfocusable","htmlComp","install","session","_renderProperties","_renderChildActions","_setChildActions","childActions","forEach","child","off","on","childAction","addCssClass","render","updateFirstLastMarker","_togglesSubMenu","event","rendered","_doActionTogglesPopup","isToggleAction","isTabTarget"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/menu/ComboMenu.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2019 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {HtmlComponent, Menu, widgets} from '../index';\n\nexport default class ComboMenu extends Menu {\n\n  constructor() {\n    super();\n    this._childVisibleChangeHandler = this._onChildVisibleChange.bind(this);\n  }\n\n  _render() {\n    this.$container = this.$parent.appendDiv('menu-item combo-menu');\n    if (this.uiCssClass) {\n      this.$container.addClass(this.uiCssClass);\n    }\n    this.$container.unfocusable();\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderChildActions();\n  }\n\n  _setChildActions(childActions) {\n    this.childActions.forEach(child => child.off('propertyChange:visible', this._childVisibleChangeHandler));\n    super._setChildActions(childActions);\n    this.childActions.forEach(child => child.on('propertyChange:visible', this._childVisibleChangeHandler));\n  }\n\n  _renderChildActions() {\n    super._renderChildActions();\n\n    this.childActions.forEach(childAction => {\n      childAction.addCssClass('combo-menu-child');\n      childAction.render();\n    });\n    widgets.updateFirstLastMarker(this.childActions);\n  }\n\n  // @override\n  _togglesSubMenu() {\n    return false;\n  }\n\n  _onChildVisibleChange(event) {\n    if (this.rendered) {\n      widgets.updateFirstLastMarker(this.childActions);\n    }\n  }\n\n  _doActionTogglesPopup() {\n    return false;\n  }\n\n  isToggleAction() {\n    return false;\n  }\n\n  isTabTarget() {\n    // To make children tabbable, combo menu must never be a tab target, even if its a default menu\n    return false;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,aAAa,EAAEC,IAAI,EAAEC,OAAO,QAAO,UAAU;AAErD,eAAe,MAAMC,SAAS,SAASF,IAAI,CAAC;EAE1CG,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,0BAA0B,GAAG,IAAI,CAACC,qBAAqB,CAACC,IAAI,CAAC,IAAI,CAAC;EACzE;EAEAC,OAAO,GAAG;IACR,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,sBAAsB,CAAC;IAChE,IAAI,IAAI,CAACC,UAAU,EAAE;MACnB,IAAI,CAACH,UAAU,CAACI,QAAQ,CAAC,IAAI,CAACD,UAAU,CAAC;IAC3C;IACA,IAAI,CAACH,UAAU,CAACK,WAAW,EAAE;IAC7B,IAAI,CAACC,QAAQ,GAAGf,aAAa,CAACgB,OAAO,CAAC,IAAI,CAACP,UAAU,EAAE,IAAI,CAACQ,OAAO,CAAC;EACtE;EAEAC,iBAAiB,GAAG;IAClB,KAAK,CAACA,iBAAiB,EAAE;IACzB,IAAI,CAACC,mBAAmB,EAAE;EAC5B;EAEAC,gBAAgB,CAACC,YAAY,EAAE;IAC7B,IAAI,CAACA,YAAY,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAACnB,0BAA0B,CAAC,CAAC;IACxG,KAAK,CAACe,gBAAgB,CAACC,YAAY,CAAC;IACpC,IAAI,CAACA,YAAY,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACE,EAAE,CAAC,wBAAwB,EAAE,IAAI,CAACpB,0BAA0B,CAAC,CAAC;EACzG;EAEAc,mBAAmB,GAAG;IACpB,KAAK,CAACA,mBAAmB,EAAE;IAE3B,IAAI,CAACE,YAAY,CAACC,OAAO,CAACI,WAAW,IAAI;MACvCA,WAAW,CAACC,WAAW,CAAC,kBAAkB,CAAC;MAC3CD,WAAW,CAACE,MAAM,EAAE;IACtB,CAAC,CAAC;IACF1B,OAAO,CAAC2B,qBAAqB,CAAC,IAAI,CAACR,YAAY,CAAC;EAClD;;EAEA;EACAS,eAAe,GAAG;IAChB,OAAO,KAAK;EACd;EAEAxB,qBAAqB,CAACyB,KAAK,EAAE;IAC3B,IAAI,IAAI,CAACC,QAAQ,EAAE;MACjB9B,OAAO,CAAC2B,qBAAqB,CAAC,IAAI,CAACR,YAAY,CAAC;IAClD;EACF;EAEAY,qBAAqB,GAAG;IACtB,OAAO,KAAK;EACd;EAEAC,cAAc,GAAG;IACf,OAAO,KAAK;EACd;EAEAC,WAAW,GAAG;IACZ;IACA,OAAO,KAAK;EACd;AACF"},"metadata":{},"sourceType":"module"}