{"ast":null,"code":"/*\n * Copyright (c) 2010-2020 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport strings from '../../util/strings';\nexport default class CompactBean {\n  constructor() {\n    this.title = '';\n    this.titleSuffix = '';\n    this.subtitle = '';\n    this.content = '';\n    this.moreContent = '';\n    this.contentLines = [];\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle(title) {\n    this.title = scout.nvl(title, '');\n  }\n\n  /**\n   * @param {CompactLine} titleLine\n   */\n  setTitleLine(titleLine) {\n    this.titleLine = titleLine;\n  }\n\n  /**\n   * @param {string} titleSuffix\n   */\n  setTitleSuffix(titleSuffix) {\n    this.titleSuffix = scout.nvl(titleSuffix, '');\n  }\n\n  /**\n   * @param {CompactLine} titleSuffixLine\n   */\n  setTitleSuffixLine(titleSuffixLine) {\n    this.titleSuffixLine = titleSuffixLine;\n  }\n\n  /**\n   * @param {string} subtitle\n   */\n  setSubtitle(subtitle) {\n    this.subtitle = scout.nvl(subtitle, '');\n  }\n\n  /**\n   * @param {CompactLine} subtitleLine\n   */\n  setSubtitleLine(subtitleLine) {\n    this.subtitleLine = subtitleLine;\n  }\n\n  /**\n   * @param {CompactLine} line\n   */\n  addContentLine(line) {\n    this.contentLines.push(line);\n  }\n\n  /**\n   * @param {string} content\n   */\n  setContent(content) {\n    this.content = scout.nvl(content, '');\n  }\n\n  /**\n   * @param {string} moreContent\n   */\n  setMoreContent(moreContent) {\n    this.moreContent = scout.nvl(moreContent, '');\n  }\n\n  /**\n   * Converts the compact lines into strings and fills the responding properties (title, subtitle, content, more\n   * content).\n   * @param {object} [options]\n   * @param {boolean} [options.removeEmptyContentLines default true\n   * @param {number} [options.maxContentLines default 1000\n   */\n  transform(options) {\n    let removeEmptyContentLines = scout.nvl(options.removeEmptyContentLines, true);\n    let maxContentLines = scout.nvl(options.maxContentLines, 1000);\n    if (this.titleLine) {\n      this.setTitle(this.titleLine.build());\n    }\n    if (this.titleSuffixLine) {\n      this.setTitleSuffix(this.titleSuffixLine.build());\n    }\n    if (this.subtitleLine) {\n      this.setSubtitle(this.subtitleLine.build());\n    }\n    let contentLines = [];\n    if (removeEmptyContentLines) {\n      contentLines = this.contentLines.filter(line => !!line.build());\n    }\n    if (maxContentLines + 1 === contentLines.length) {\n      // Don't show more link if it would only reveal one element\n      maxContentLines++;\n    }\n    let contentLineEnd = Math.min(contentLines.length, maxContentLines);\n    let content = strings.join('\\n', ...contentLines.slice(0, contentLineEnd).map(line => line.build()));\n    if (content) {\n      this.setContent(content);\n    }\n    if (contentLineEnd < contentLines.length) {\n      let moreContent = strings.join('\\n', ...contentLines.slice(contentLineEnd, contentLines.length).map(line => line.build()));\n      this.setMoreContent(moreContent);\n    }\n  }\n}","map":{"version":3,"names":["strings","CompactBean","constructor","title","titleSuffix","subtitle","content","moreContent","contentLines","setTitle","scout","nvl","setTitleLine","titleLine","setTitleSuffix","setTitleSuffixLine","titleSuffixLine","setSubtitle","setSubtitleLine","subtitleLine","addContentLine","line","push","setContent","setMoreContent","transform","options","removeEmptyContentLines","maxContentLines","build","filter","length","contentLineEnd","Math","min","join","slice","map"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/table/columns/CompactBean.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2020 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport strings from '../../util/strings';\n\nexport default class CompactBean {\n\n  constructor() {\n    this.title = '';\n    this.titleSuffix = '';\n    this.subtitle = '';\n    this.content = '';\n    this.moreContent = '';\n    this.contentLines = [];\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle(title) {\n    this.title = scout.nvl(title, '');\n  }\n\n  /**\n   * @param {CompactLine} titleLine\n   */\n  setTitleLine(titleLine) {\n    this.titleLine = titleLine;\n  }\n\n  /**\n   * @param {string} titleSuffix\n   */\n  setTitleSuffix(titleSuffix) {\n    this.titleSuffix = scout.nvl(titleSuffix, '');\n  }\n\n  /**\n   * @param {CompactLine} titleSuffixLine\n   */\n  setTitleSuffixLine(titleSuffixLine) {\n    this.titleSuffixLine = titleSuffixLine;\n  }\n\n  /**\n   * @param {string} subtitle\n   */\n  setSubtitle(subtitle) {\n    this.subtitle = scout.nvl(subtitle, '');\n  }\n\n  /**\n   * @param {CompactLine} subtitleLine\n   */\n  setSubtitleLine(subtitleLine) {\n    this.subtitleLine = subtitleLine;\n  }\n\n  /**\n   * @param {CompactLine} line\n   */\n  addContentLine(line) {\n    this.contentLines.push(line);\n  }\n\n  /**\n   * @param {string} content\n   */\n  setContent(content) {\n    this.content = scout.nvl(content, '');\n  }\n\n  /**\n   * @param {string} moreContent\n   */\n  setMoreContent(moreContent) {\n    this.moreContent = scout.nvl(moreContent, '');\n  }\n\n  /**\n   * Converts the compact lines into strings and fills the responding properties (title, subtitle, content, more\n   * content).\n   * @param {object} [options]\n   * @param {boolean} [options.removeEmptyContentLines default true\n   * @param {number} [options.maxContentLines default 1000\n   */\n  transform(options) {\n    let removeEmptyContentLines = scout.nvl(options.removeEmptyContentLines, true);\n    let maxContentLines = scout.nvl(options.maxContentLines, 1000);\n    if (this.titleLine) {\n      this.setTitle(this.titleLine.build());\n    }\n    if (this.titleSuffixLine) {\n      this.setTitleSuffix(this.titleSuffixLine.build());\n    }\n    if (this.subtitleLine) {\n      this.setSubtitle(this.subtitleLine.build());\n    }\n\n    let contentLines = [];\n    if (removeEmptyContentLines) {\n      contentLines = this.contentLines.filter(line => !!line.build());\n    }\n    if (maxContentLines + 1 === contentLines.length) {\n      // Don't show more link if it would only reveal one element\n      maxContentLines++;\n    }\n    let contentLineEnd = Math.min(contentLines.length, maxContentLines);\n    let content = strings.join('\\n', ...contentLines.slice(0, contentLineEnd).map(line => line.build()));\n    if (content) {\n      this.setContent(content);\n    }\n\n    if (contentLineEnd < contentLines.length) {\n      let moreContent = strings.join('\\n', ...contentLines.slice(contentLineEnd, contentLines.length).map(line => line.build()));\n      this.setMoreContent(moreContent);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}