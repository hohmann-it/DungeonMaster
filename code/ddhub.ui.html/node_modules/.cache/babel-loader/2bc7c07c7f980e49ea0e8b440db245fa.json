{"ast":null,"code":"/*\n * Copyright (c) 2014-2020 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { Planner, Widget } from '../index';\nimport $ from 'jquery';\nexport default class PlannerHeader extends Widget {\n  constructor() {\n    super();\n    this.availableDisplayModes = [];\n  }\n  _render() {\n    this.$container = this.$parent.appendDiv('planner-header');\n    this.$range = this.$container.appendDiv('planner-range');\n    this.$range.appendDiv('planner-previous').on('click', this._onPreviousClick.bind(this));\n    this.$range.appendDiv('planner-today', this.session.text('ui.CalendarToday')).on('click', this._onTodayClick.bind(this));\n    this.$range.appendDiv('planner-next').on('click', this._onNextClick.bind(this));\n    this.$range.appendDiv('planner-select');\n    this.$commands = this.$container.appendDiv('planner-commands');\n    this._renderAvailableDisplayModes();\n    this._renderDisplayMode();\n  }\n  setAvailableDisplayModes(displayModes) {\n    this.setProperty('availableDisplayModes', displayModes);\n  }\n  _renderAvailableDisplayModes() {\n    let displayMode = Planner.DisplayMode;\n    this.$commands.empty();\n    if (this.availableDisplayModes.length > 1) {\n      if (this.availableDisplayModes.indexOf(displayMode.DAY) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarDay')).attr('data-mode', displayMode.DAY).on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.WORK_WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarWorkWeek')).attr('data-mode', displayMode.WORK_WEEK).on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarWeek')).attr('data-mode', displayMode.WEEK).on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.MONTH) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarMonth')).attr('data-mode', displayMode.MONTH).on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.CALENDAR_WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarCalendarWeek')).attr('data-mode', displayMode.CALENDAR_WEEK).on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.YEAR) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarYear')).attr('data-mode', displayMode.YEAR).on('click', this._onDisplayModeClick.bind(this));\n      }\n    }\n    let $modes = this.$commands.children('.planner-mode');\n    $modes.first().addClass('first');\n    $modes.last().addClass('last');\n    if ($modes.length === 1) {\n      $modes.first().addClass('disabled');\n      $modes.off('click');\n    }\n    this.$commands.appendDiv('planner-toggle-year').on('click', this._onYearClick.bind(this));\n  }\n  setDisplayMode(displayMode) {\n    this.setProperty('displayMode', displayMode);\n  }\n  _renderDisplayMode() {\n    $('.planner-mode', this.$commands).select(false);\n    $('[data-mode=\"' + this.displayMode + '\"]', this.$commands).select(true);\n  }\n  _onTodayClick(event) {\n    this.trigger('todayClick');\n  }\n  _onNextClick(event) {\n    this.trigger('nextClick');\n  }\n  _onPreviousClick(event) {\n    this.trigger('previousClick');\n  }\n  _onYearClick(event) {\n    this.trigger('yearClick');\n  }\n  _onDisplayModeClick(event) {\n    let displayMode = $(event.target).data('mode');\n    this.setDisplayMode(displayMode);\n    this.trigger('displayModeClick', {\n      displayMode: this.displayMode\n    });\n  }\n}","map":{"version":3,"names":["Planner","Widget","$","PlannerHeader","constructor","availableDisplayModes","_render","$container","$parent","appendDiv","$range","on","_onPreviousClick","bind","session","text","_onTodayClick","_onNextClick","$commands","_renderAvailableDisplayModes","_renderDisplayMode","setAvailableDisplayModes","displayModes","setProperty","displayMode","DisplayMode","empty","length","indexOf","DAY","attr","_onDisplayModeClick","WORK_WEEK","WEEK","MONTH","CALENDAR_WEEK","YEAR","$modes","children","first","addClass","last","off","_onYearClick","setDisplayMode","select","event","trigger","target","data"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/planner/PlannerHeader.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2020 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {Planner, Widget} from '../index';\nimport $ from 'jquery';\n\nexport default class PlannerHeader extends Widget {\n\n  constructor() {\n    super();\n\n    this.availableDisplayModes = [];\n  }\n\n  _render() {\n    this.$container = this.$parent.appendDiv('planner-header');\n    this.$range = this.$container.appendDiv('planner-range');\n    this.$range.appendDiv('planner-previous').on('click', this._onPreviousClick.bind(this));\n    this.$range.appendDiv('planner-today', this.session.text('ui.CalendarToday')).on('click', this._onTodayClick.bind(this));\n    this.$range.appendDiv('planner-next').on('click', this._onNextClick.bind(this));\n    this.$range.appendDiv('planner-select');\n    this.$commands = this.$container.appendDiv('planner-commands');\n    this._renderAvailableDisplayModes();\n    this._renderDisplayMode();\n  }\n\n  setAvailableDisplayModes(displayModes) {\n    this.setProperty('availableDisplayModes', displayModes);\n  }\n\n  _renderAvailableDisplayModes() {\n    let displayMode = Planner.DisplayMode;\n    this.$commands.empty();\n\n    if (this.availableDisplayModes.length > 1) {\n      if (this.availableDisplayModes.indexOf(displayMode.DAY) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarDay'))\n          .attr('data-mode', displayMode.DAY)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.WORK_WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarWorkWeek'))\n          .attr('data-mode', displayMode.WORK_WEEK)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarWeek'))\n          .attr('data-mode', displayMode.WEEK)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.MONTH) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarMonth'))\n          .attr('data-mode', displayMode.MONTH)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.CALENDAR_WEEK) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarCalendarWeek'))\n          .attr('data-mode', displayMode.CALENDAR_WEEK)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n      if (this.availableDisplayModes.indexOf(displayMode.YEAR) > -1) {\n        this.$commands.appendDiv('planner-mode', this.session.text('ui.CalendarYear'))\n          .attr('data-mode', displayMode.YEAR)\n          .on('click', this._onDisplayModeClick.bind(this));\n      }\n    }\n\n    let $modes = this.$commands.children('.planner-mode');\n    $modes.first().addClass('first');\n    $modes.last().addClass('last');\n    if ($modes.length === 1) {\n      $modes.first().addClass('disabled');\n      $modes.off('click');\n    }\n    this.$commands.appendDiv('planner-toggle-year').on('click', this._onYearClick.bind(this));\n  }\n\n  setDisplayMode(displayMode) {\n    this.setProperty('displayMode', displayMode);\n  }\n\n  _renderDisplayMode() {\n    $('.planner-mode', this.$commands).select(false);\n    $('[data-mode=\"' + this.displayMode + '\"]', this.$commands).select(true);\n  }\n\n  _onTodayClick(event) {\n    this.trigger('todayClick');\n  }\n\n  _onNextClick(event) {\n    this.trigger('nextClick');\n  }\n\n  _onPreviousClick(event) {\n    this.trigger('previousClick');\n  }\n\n  _onYearClick(event) {\n    this.trigger('yearClick');\n  }\n\n  _onDisplayModeClick(event) {\n    let displayMode = $(event.target).data('mode');\n    this.setDisplayMode(displayMode);\n    this.trigger('displayModeClick', {\n      displayMode: this.displayMode\n    });\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}