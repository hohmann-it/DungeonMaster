{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { objects, scout } from '../index';\nimport $ from 'jquery';\n\n/**\n * The {@link {@link SimpleTabBoxController}} is used to link a {@link {@link SimpleTabBox}} with a {@link {@link SimpleTabArea}}.\n * There are {@link {@link SimpleTabBox}} with more than one {@link {@link SimpleTabArea}} to actualized.\n * Therefore the linking is separated in a controller.\n * The controller basically listens to 'viewAdd', 'viewRemove', 'viewActivate', 'viewDeactivate' on the {@link {@link SimpleTabBox}} and\n * updates the {@link {@link SimpleTabArea}}.\n */\nexport default class SimpleTabBoxController {\n  constructor(tabBox, tabArea) {\n    this.tabBox = null;\n    this._viewAddHandler = this._onViewAdd.bind(this);\n    this._viewRemoveHandler = this._onViewRemove.bind(this);\n    this._viewActivateHandler = this._onViewActivate.bind(this);\n    this._viewDeactivateHandler = this._onViewDeactivate.bind(this);\n    this.tabArea = null;\n    this._viewTabSelectHandler = this._onViewTabSelect.bind(this);\n  }\n  init(model) {\n    $.extend(this, model);\n  }\n  install(tabBox, tabArea) {\n    this.uninstall();\n    this.tabBox = scout.assertParameter('tabBox', tabBox);\n    this.tabArea = scout.nvl(tabArea, this.tabBox.tabArea);\n    if (!this.tabArea) {\n      this.tabArea = this.createTabArea();\n    }\n    this._installListeners();\n  }\n  uninstall() {\n    this._uninstallListeners();\n  }\n  _installListeners() {\n    this.tabBox.on('viewAdd', this._viewAddHandler);\n    this.tabBox.on('viewRemove', this._viewRemoveHandler);\n    this.tabBox.on('viewActivate', this._viewActivateHandler);\n    this.tabBox.on('viewDeactivate', this._viewDeactivateHandler);\n    this.tabArea.on('tabSelect', this._viewTabSelectHandler);\n  }\n  _uninstallListeners() {\n    if (this.tabBox) {\n      this.tabBox.off('viewAdd', this._viewAddHandler);\n      this.tabBox.off('viewRemove', this._viewRemoveHandler);\n      this.tabBox.off('viewActivate', this._viewActivateHandler);\n      this.tabBox.off('viewDeactivate', this._viewDeactivateHandler);\n    }\n    if (this.tabArea) {\n      this.tabArea.off('tabSelect', this._viewTabSelectHandler);\n    }\n  }\n  createTabArea() {\n    return scout.create('SimpleTabArea', {\n      parent: this.tabBox\n    });\n  }\n  _onViewAdd(event) {\n    let view = event.view,\n      siblingView = event.siblingView,\n      viewTab,\n      // the sibling to insert the tab after.\n      siblingViewTab;\n    if (!SimpleTabBoxController.hasViewTab(view)) {\n      return;\n    }\n    viewTab = this._getTab(view);\n    if (!viewTab && this._shouldCreateTabForView(view)) {\n      siblingViewTab = this._getTab(siblingView);\n      viewTab = this._createTab(view);\n      this.tabArea.addTab(viewTab, siblingViewTab);\n    }\n  }\n  _shouldCreateTabForView(view) {\n    return true;\n  }\n  _onViewRemove(event) {\n    let view = event.view;\n    if (!view) {\n      return;\n    }\n    let viewTab = this._getTab(view);\n    if (viewTab) {\n      this.tabArea.destroyTab(viewTab);\n    }\n  }\n  _onViewActivate(event) {\n    let viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.selectTab(viewTab);\n  }\n  _onViewDeactivate(event) {\n    let viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.deselectTab(viewTab);\n  }\n  _onViewTabSelect(event) {\n    if (!event.viewTab) {\n      return;\n    }\n    let view = event.viewTab.view;\n    this.tabBox.activateView(view);\n  }\n  _createTab(view) {\n    return scout.create('SimpleTab', {\n      parent: this.tabArea,\n      view: view\n    });\n  }\n  _getTab(view) {\n    if (!view) {\n      return;\n    }\n    let viewTab = null;\n    this.tabArea.getTabs().some(tab => {\n      if (tab.view === view) {\n        viewTab = tab;\n        return true;\n      }\n      return false;\n    });\n    return viewTab;\n  }\n  getTabs() {\n    return this.tabArea.getTabs();\n  }\n\n  /* ----- static functions ----- */\n\n  static hasViewTab(view) {\n    return objects.someProperties(view, ['title', 'subTitle', 'iconId']);\n  }\n}","map":{"version":3,"names":["objects","scout","$","SimpleTabBoxController","constructor","tabBox","tabArea","_viewAddHandler","_onViewAdd","bind","_viewRemoveHandler","_onViewRemove","_viewActivateHandler","_onViewActivate","_viewDeactivateHandler","_onViewDeactivate","_viewTabSelectHandler","_onViewTabSelect","init","model","extend","install","uninstall","assertParameter","nvl","createTabArea","_installListeners","_uninstallListeners","on","off","create","parent","event","view","siblingView","viewTab","siblingViewTab","hasViewTab","_getTab","_shouldCreateTabForView","_createTab","addTab","destroyTab","selectTab","deselectTab","activateView","getTabs","some","tab","someProperties"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/tabbox/SimpleTabBoxController.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {objects, scout} from '../index';\nimport $ from 'jquery';\n\n/**\n * The {@link {@link SimpleTabBoxController}} is used to link a {@link {@link SimpleTabBox}} with a {@link {@link SimpleTabArea}}.\n * There are {@link {@link SimpleTabBox}} with more than one {@link {@link SimpleTabArea}} to actualized.\n * Therefore the linking is separated in a controller.\n * The controller basically listens to 'viewAdd', 'viewRemove', 'viewActivate', 'viewDeactivate' on the {@link {@link SimpleTabBox}} and\n * updates the {@link {@link SimpleTabArea}}.\n */\nexport default class SimpleTabBoxController {\n  constructor(tabBox, tabArea) {\n    this.tabBox = null;\n    this._viewAddHandler = this._onViewAdd.bind(this);\n    this._viewRemoveHandler = this._onViewRemove.bind(this);\n    this._viewActivateHandler = this._onViewActivate.bind(this);\n    this._viewDeactivateHandler = this._onViewDeactivate.bind(this);\n\n    this.tabArea = null;\n    this._viewTabSelectHandler = this._onViewTabSelect.bind(this);\n  }\n\n  init(model) {\n    $.extend(this, model);\n  }\n\n  install(tabBox, tabArea) {\n    this.uninstall();\n    this.tabBox = scout.assertParameter('tabBox', tabBox);\n    this.tabArea = scout.nvl(tabArea, this.tabBox.tabArea);\n    if (!this.tabArea) {\n      this.tabArea = this.createTabArea();\n    }\n    this._installListeners();\n  }\n\n  uninstall() {\n    this._uninstallListeners();\n  }\n\n  _installListeners() {\n    this.tabBox.on('viewAdd', this._viewAddHandler);\n    this.tabBox.on('viewRemove', this._viewRemoveHandler);\n    this.tabBox.on('viewActivate', this._viewActivateHandler);\n    this.tabBox.on('viewDeactivate', this._viewDeactivateHandler);\n    this.tabArea.on('tabSelect', this._viewTabSelectHandler);\n  }\n\n  _uninstallListeners() {\n    if (this.tabBox) {\n      this.tabBox.off('viewAdd', this._viewAddHandler);\n      this.tabBox.off('viewRemove', this._viewRemoveHandler);\n      this.tabBox.off('viewActivate', this._viewActivateHandler);\n      this.tabBox.off('viewDeactivate', this._viewDeactivateHandler);\n    }\n    if (this.tabArea) {\n      this.tabArea.off('tabSelect', this._viewTabSelectHandler);\n    }\n  }\n\n  createTabArea() {\n    return scout.create('SimpleTabArea', {\n      parent: this.tabBox\n    });\n  }\n\n  _onViewAdd(event) {\n    let view = event.view,\n      siblingView = event.siblingView,\n      viewTab,\n      // the sibling to insert the tab after.\n      siblingViewTab;\n\n    if (!SimpleTabBoxController.hasViewTab(view)) {\n      return;\n    }\n    viewTab = this._getTab(view);\n    if (!viewTab && this._shouldCreateTabForView(view)) {\n      siblingViewTab = this._getTab(siblingView);\n      viewTab = this._createTab(view);\n      this.tabArea.addTab(viewTab, siblingViewTab);\n    }\n  }\n\n  _shouldCreateTabForView(view) {\n    return true;\n  }\n\n  _onViewRemove(event) {\n    let view = event.view;\n    if (!view) {\n      return;\n    }\n    let viewTab = this._getTab(view);\n    if (viewTab) {\n      this.tabArea.destroyTab(viewTab);\n    }\n  }\n\n  _onViewActivate(event) {\n    let viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.selectTab(viewTab);\n  }\n\n  _onViewDeactivate(event) {\n    let viewTab = this._getTab(event.view);\n    // also reset selection if no view tab of the view is found.\n    this.tabArea.deselectTab(viewTab);\n  }\n\n  _onViewTabSelect(event) {\n    if (!event.viewTab) {\n      return;\n    }\n    let view = event.viewTab.view;\n    this.tabBox.activateView(view);\n  }\n\n  _createTab(view) {\n    return scout.create('SimpleTab', {\n      parent: this.tabArea,\n      view: view\n    });\n  }\n\n  _getTab(view) {\n    if (!view) {\n      return;\n    }\n    let viewTab = null;\n    this.tabArea.getTabs().some(tab => {\n      if (tab.view === view) {\n        viewTab = tab;\n        return true;\n      }\n      return false;\n    });\n    return viewTab;\n  }\n\n  getTabs() {\n    return this.tabArea.getTabs();\n  }\n\n  /* ----- static functions ----- */\n\n  static hasViewTab(view) {\n    return objects.someProperties(view, ['title', 'subTitle', 'iconId']);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}