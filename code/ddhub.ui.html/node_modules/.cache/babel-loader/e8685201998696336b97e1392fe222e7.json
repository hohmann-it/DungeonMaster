{"ast":null,"code":"/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { scout, tooltips } from '../index';\nimport $ from 'jquery';\nexport default class TooltipSupport {\n  constructor(options) {\n    let defaultOptions = {\n      selector: null,\n      delay: tooltips.DEFAULT_TOOLTIP_DELAY,\n      text: undefined,\n      nativeTooltip: false\n    };\n    options = $.extend({}, defaultOptions, options);\n    this._options = options;\n    this._mouseEnterHandler = this._onMouseEnter.bind(this);\n    this._mouseLeaveHandler = this._onMouseLeave.bind(this);\n    this._tooltip = null;\n    this._tooltipTimeoutId = null;\n  }\n  install($comp) {\n    // prevent multiple installation of tooltip support\n    if (!$comp.data('tooltipSupport')) {\n      $comp.on('mouseenter', this._options.selector, this._mouseEnterHandler).on('mouseleave', this._options.selector, this._mouseLeaveHandler).data('tooltipSupport', this);\n    }\n  }\n  uninstall($comp) {\n    $comp.removeData('tooltipSupport').off('mouseleave', this._options.selector, this._mouseLeaveHandler).off('mouseenter', this._options.selector, this._mouseEnterHandler);\n    this._destroyTooltip();\n  }\n  update($comp, options) {\n    $.extend(this._options, options);\n    if (this._tooltip) {\n      this._showTooltip($comp);\n    }\n  }\n  cancel($comp) {\n    clearTimeout(this._tooltipTimeoutId);\n  }\n  close() {\n    this._destroyTooltip();\n  }\n  _onMouseEnter(event) {\n    let $comp = $(event.currentTarget);\n    if (this._options.nativeTooltip) {\n      let text = this._text($comp);\n      $comp.attr('title', text);\n    } else {\n      clearTimeout(this._tooltipTimeoutId);\n      this._tooltipTimeoutId = setTimeout(this._showTooltip.bind(this, $comp), this._options.delay);\n    }\n  }\n  _onMouseLeave(event) {\n    this._destroyTooltip();\n  }\n  _destroyTooltip() {\n    clearTimeout(this._tooltipTimeoutId);\n    if (this._tooltip) {\n      this._tooltip.destroy();\n      this._tooltip = null;\n    }\n  }\n  _text($comp) {\n    let text = this._options.text || $comp.data('tooltipText');\n    if ($.isFunction(text)) {\n      text = text($comp);\n    }\n    return text;\n  }\n  _htmlEnabled($comp) {\n    let htmlEnabled = this._options.htmlEnabled || $comp.data('htmlEnabled');\n    if ($.isFunction(htmlEnabled)) {\n      htmlEnabled = htmlEnabled($comp);\n    }\n    return scout.nvl(htmlEnabled, false);\n  }\n  _showTooltip($comp) {\n    if (!$comp || !$comp.isAttached()) {\n      return; // removed in the meantime (this method is called using setTimeout)\n    }\n\n    let text = this._text($comp);\n    if (!text) {\n      return; // treat undefined and no text as no tooltip\n    }\n\n    let htmlEnabled = this._htmlEnabled($comp);\n    if (this._tooltip && this._tooltip.rendered) {\n      // update existing tooltip\n      this._tooltip.setText(text);\n      this._tooltip.setSeverity(this._options.severity);\n      this._tooltip.setMenus(this._options.menus);\n    } else {\n      // create new tooltip\n      let options = $.extend({}, this._options, {\n        $anchor: this._options.$anchor || $comp,\n        text: text,\n        htmlEnabled: htmlEnabled\n      });\n      this._tooltip = scout.create('Tooltip', options);\n      this._tooltip.render(options.$parent);\n    }\n  }\n}","map":{"version":3,"names":["scout","tooltips","$","TooltipSupport","constructor","options","defaultOptions","selector","delay","DEFAULT_TOOLTIP_DELAY","text","undefined","nativeTooltip","extend","_options","_mouseEnterHandler","_onMouseEnter","bind","_mouseLeaveHandler","_onMouseLeave","_tooltip","_tooltipTimeoutId","install","$comp","data","on","uninstall","removeData","off","_destroyTooltip","update","_showTooltip","cancel","clearTimeout","close","event","currentTarget","_text","attr","setTimeout","destroy","isFunction","_htmlEnabled","htmlEnabled","nvl","isAttached","rendered","setText","setSeverity","severity","setMenus","menus","$anchor","create","render","$parent"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/tooltip/TooltipSupport.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {scout, tooltips} from '../index';\nimport $ from 'jquery';\n\nexport default class TooltipSupport {\n\n  constructor(options) {\n    let defaultOptions = {\n      selector: null,\n      delay: tooltips.DEFAULT_TOOLTIP_DELAY,\n      text: undefined,\n      nativeTooltip: false\n    };\n    options = $.extend({}, defaultOptions, options);\n    this._options = options;\n    this._mouseEnterHandler = this._onMouseEnter.bind(this);\n    this._mouseLeaveHandler = this._onMouseLeave.bind(this);\n    this._tooltip = null;\n    this._tooltipTimeoutId = null;\n  }\n\n  install($comp) {\n    // prevent multiple installation of tooltip support\n    if (!$comp.data('tooltipSupport')) {\n      $comp\n        .on('mouseenter', this._options.selector, this._mouseEnterHandler)\n        .on('mouseleave', this._options.selector, this._mouseLeaveHandler)\n        .data('tooltipSupport', this);\n    }\n  }\n\n  uninstall($comp) {\n    $comp\n      .removeData('tooltipSupport')\n      .off('mouseleave', this._options.selector, this._mouseLeaveHandler)\n      .off('mouseenter', this._options.selector, this._mouseEnterHandler);\n    this._destroyTooltip();\n  }\n\n  update($comp, options) {\n    $.extend(this._options, options);\n    if (this._tooltip) {\n      this._showTooltip($comp);\n    }\n  }\n\n  cancel($comp) {\n    clearTimeout(this._tooltipTimeoutId);\n  }\n\n  close() {\n    this._destroyTooltip();\n  }\n\n  _onMouseEnter(event) {\n    let $comp = $(event.currentTarget);\n\n    if (this._options.nativeTooltip) {\n      let text = this._text($comp);\n      $comp.attr('title', text);\n    } else {\n      clearTimeout(this._tooltipTimeoutId);\n      this._tooltipTimeoutId = setTimeout(this._showTooltip.bind(this, $comp), this._options.delay);\n    }\n  }\n\n  _onMouseLeave(event) {\n    this._destroyTooltip();\n  }\n\n  _destroyTooltip() {\n    clearTimeout(this._tooltipTimeoutId);\n    if (this._tooltip) {\n      this._tooltip.destroy();\n      this._tooltip = null;\n    }\n  }\n\n  _text($comp) {\n    let text = this._options.text || $comp.data('tooltipText');\n    if ($.isFunction(text)) {\n      text = text($comp);\n    }\n    return text;\n  }\n\n  _htmlEnabled($comp) {\n    let htmlEnabled = this._options.htmlEnabled || $comp.data('htmlEnabled');\n    if ($.isFunction(htmlEnabled)) {\n      htmlEnabled = htmlEnabled($comp);\n    }\n    return scout.nvl(htmlEnabled, false);\n  }\n\n  _showTooltip($comp) {\n    if (!$comp || !$comp.isAttached()) {\n      return; // removed in the meantime (this method is called using setTimeout)\n    }\n    let text = this._text($comp);\n    if (!text) {\n      return; // treat undefined and no text as no tooltip\n    }\n\n    let htmlEnabled = this._htmlEnabled($comp);\n\n    if (this._tooltip && this._tooltip.rendered) {\n      // update existing tooltip\n      this._tooltip.setText(text);\n      this._tooltip.setSeverity(this._options.severity);\n      this._tooltip.setMenus(this._options.menus);\n    } else {\n      // create new tooltip\n      let options = $.extend({}, this._options, {\n        $anchor: this._options.$anchor || $comp,\n        text: text,\n        htmlEnabled: htmlEnabled\n      });\n      this._tooltip = scout.create('Tooltip', options);\n      this._tooltip.render(options.$parent);\n    }\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,KAAK,EAAEC,QAAQ,QAAO,UAAU;AACxC,OAAOC,CAAC,MAAM,QAAQ;AAEtB,eAAe,MAAMC,cAAc,CAAC;EAElCC,WAAW,CAACC,OAAO,EAAE;IACnB,IAAIC,cAAc,GAAG;MACnBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAEP,QAAQ,CAACQ,qBAAqB;MACrCC,IAAI,EAAEC,SAAS;MACfC,aAAa,EAAE;IACjB,CAAC;IACDP,OAAO,GAAGH,CAAC,CAACW,MAAM,CAAC,CAAC,CAAC,EAAEP,cAAc,EAAED,OAAO,CAAC;IAC/C,IAAI,CAACS,QAAQ,GAAGT,OAAO;IACvB,IAAI,CAACU,kBAAkB,GAAG,IAAI,CAACC,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC;IACvD,IAAI,CAACC,kBAAkB,GAAG,IAAI,CAACC,aAAa,CAACF,IAAI,CAAC,IAAI,CAAC;IACvD,IAAI,CAACG,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,iBAAiB,GAAG,IAAI;EAC/B;EAEAC,OAAO,CAACC,KAAK,EAAE;IACb;IACA,IAAI,CAACA,KAAK,CAACC,IAAI,CAAC,gBAAgB,CAAC,EAAE;MACjCD,KAAK,CACFE,EAAE,CAAC,YAAY,EAAE,IAAI,CAACX,QAAQ,CAACP,QAAQ,EAAE,IAAI,CAACQ,kBAAkB,CAAC,CACjEU,EAAE,CAAC,YAAY,EAAE,IAAI,CAACX,QAAQ,CAACP,QAAQ,EAAE,IAAI,CAACW,kBAAkB,CAAC,CACjEM,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC;IACjC;EACF;EAEAE,SAAS,CAACH,KAAK,EAAE;IACfA,KAAK,CACFI,UAAU,CAAC,gBAAgB,CAAC,CAC5BC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACd,QAAQ,CAACP,QAAQ,EAAE,IAAI,CAACW,kBAAkB,CAAC,CAClEU,GAAG,CAAC,YAAY,EAAE,IAAI,CAACd,QAAQ,CAACP,QAAQ,EAAE,IAAI,CAACQ,kBAAkB,CAAC;IACrE,IAAI,CAACc,eAAe,EAAE;EACxB;EAEAC,MAAM,CAACP,KAAK,EAAElB,OAAO,EAAE;IACrBH,CAAC,CAACW,MAAM,CAAC,IAAI,CAACC,QAAQ,EAAET,OAAO,CAAC;IAChC,IAAI,IAAI,CAACe,QAAQ,EAAE;MACjB,IAAI,CAACW,YAAY,CAACR,KAAK,CAAC;IAC1B;EACF;EAEAS,MAAM,CAACT,KAAK,EAAE;IACZU,YAAY,CAAC,IAAI,CAACZ,iBAAiB,CAAC;EACtC;EAEAa,KAAK,GAAG;IACN,IAAI,CAACL,eAAe,EAAE;EACxB;EAEAb,aAAa,CAACmB,KAAK,EAAE;IACnB,IAAIZ,KAAK,GAAGrB,CAAC,CAACiC,KAAK,CAACC,aAAa,CAAC;IAElC,IAAI,IAAI,CAACtB,QAAQ,CAACF,aAAa,EAAE;MAC/B,IAAIF,IAAI,GAAG,IAAI,CAAC2B,KAAK,CAACd,KAAK,CAAC;MAC5BA,KAAK,CAACe,IAAI,CAAC,OAAO,EAAE5B,IAAI,CAAC;IAC3B,CAAC,MAAM;MACLuB,YAAY,CAAC,IAAI,CAACZ,iBAAiB,CAAC;MACpC,IAAI,CAACA,iBAAiB,GAAGkB,UAAU,CAAC,IAAI,CAACR,YAAY,CAACd,IAAI,CAAC,IAAI,EAAEM,KAAK,CAAC,EAAE,IAAI,CAACT,QAAQ,CAACN,KAAK,CAAC;IAC/F;EACF;EAEAW,aAAa,CAACgB,KAAK,EAAE;IACnB,IAAI,CAACN,eAAe,EAAE;EACxB;EAEAA,eAAe,GAAG;IAChBI,YAAY,CAAC,IAAI,CAACZ,iBAAiB,CAAC;IACpC,IAAI,IAAI,CAACD,QAAQ,EAAE;MACjB,IAAI,CAACA,QAAQ,CAACoB,OAAO,EAAE;MACvB,IAAI,CAACpB,QAAQ,GAAG,IAAI;IACtB;EACF;EAEAiB,KAAK,CAACd,KAAK,EAAE;IACX,IAAIb,IAAI,GAAG,IAAI,CAACI,QAAQ,CAACJ,IAAI,IAAIa,KAAK,CAACC,IAAI,CAAC,aAAa,CAAC;IAC1D,IAAItB,CAAC,CAACuC,UAAU,CAAC/B,IAAI,CAAC,EAAE;MACtBA,IAAI,GAAGA,IAAI,CAACa,KAAK,CAAC;IACpB;IACA,OAAOb,IAAI;EACb;EAEAgC,YAAY,CAACnB,KAAK,EAAE;IAClB,IAAIoB,WAAW,GAAG,IAAI,CAAC7B,QAAQ,CAAC6B,WAAW,IAAIpB,KAAK,CAACC,IAAI,CAAC,aAAa,CAAC;IACxE,IAAItB,CAAC,CAACuC,UAAU,CAACE,WAAW,CAAC,EAAE;MAC7BA,WAAW,GAAGA,WAAW,CAACpB,KAAK,CAAC;IAClC;IACA,OAAOvB,KAAK,CAAC4C,GAAG,CAACD,WAAW,EAAE,KAAK,CAAC;EACtC;EAEAZ,YAAY,CAACR,KAAK,EAAE;IAClB,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACsB,UAAU,EAAE,EAAE;MACjC,OAAO,CAAC;IACV;;IACA,IAAInC,IAAI,GAAG,IAAI,CAAC2B,KAAK,CAACd,KAAK,CAAC;IAC5B,IAAI,CAACb,IAAI,EAAE;MACT,OAAO,CAAC;IACV;;IAEA,IAAIiC,WAAW,GAAG,IAAI,CAACD,YAAY,CAACnB,KAAK,CAAC;IAE1C,IAAI,IAAI,CAACH,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAAC0B,QAAQ,EAAE;MAC3C;MACA,IAAI,CAAC1B,QAAQ,CAAC2B,OAAO,CAACrC,IAAI,CAAC;MAC3B,IAAI,CAACU,QAAQ,CAAC4B,WAAW,CAAC,IAAI,CAAClC,QAAQ,CAACmC,QAAQ,CAAC;MACjD,IAAI,CAAC7B,QAAQ,CAAC8B,QAAQ,CAAC,IAAI,CAACpC,QAAQ,CAACqC,KAAK,CAAC;IAC7C,CAAC,MAAM;MACL;MACA,IAAI9C,OAAO,GAAGH,CAAC,CAACW,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACC,QAAQ,EAAE;QACxCsC,OAAO,EAAE,IAAI,CAACtC,QAAQ,CAACsC,OAAO,IAAI7B,KAAK;QACvCb,IAAI,EAAEA,IAAI;QACViC,WAAW,EAAEA;MACf,CAAC,CAAC;MACF,IAAI,CAACvB,QAAQ,GAAGpB,KAAK,CAACqD,MAAM,CAAC,SAAS,EAAEhD,OAAO,CAAC;MAChD,IAAI,CAACe,QAAQ,CAACkC,MAAM,CAACjD,OAAO,CAACkD,OAAO,CAAC;IACvC;EACF;AACF"},"metadata":{},"sourceType":"module"}