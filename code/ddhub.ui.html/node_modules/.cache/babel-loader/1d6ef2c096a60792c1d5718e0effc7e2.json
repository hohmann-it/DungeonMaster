{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\n\n/**\n * Calendar component as used in the list panel of the calendar.\n * Delegates most functions to the CalendarComponent instance used as source.\n * It's important we clean-up the registered listeners on the model-adapter, since\n * new instances of CalendarListComponent are created every time we click on a date\n * in the calendar, but the CalendarComponent instance is always the same.\n */\nexport default class CalendarListComponent {\n  constructor(partDay, source) {\n    this.partDay = partDay;\n    this.source = source;\n    this.$container = null;\n    this._selectedListener = source.on('selected', event => {\n      this.$container.toggleClass('comp-selected', event.selected);\n    });\n    this._removeListener = source.on('remove', this.remove.bind(this));\n  }\n  render($parent) {\n    let source = this.source;\n    this.$container = $parent.appendDiv('calendar-component').data('partDay', this.partDay).addClass(source.item.cssClass).toggleClass('comp-selected', source._selected).mousedown(this._onMouseDown.bind(this, source)).on('contextmenu', source._onContextMenu.bind(source));\n    this.$container.appendDiv('calendar-component-leftcolorborder');\n    this.$container.appendDiv('content').html(source._description());\n  }\n\n  /**\n   * Prevent list-component from gaining focus (*1). Since the component is removed/rendered\n   * after the click the focus would be on the body afterwards #222862.\n   */\n  _onMouseDown(source, event) {\n    event.preventDefault(); // *1\n    let $part = $(event.delegateTarget);\n    source.updateSelectedComponent($part, true);\n  }\n  remove() {\n    this.source.removeListener(this._selectedListener);\n    this.source.removeListener(this._removeListener);\n    this.$container.remove();\n  }\n}","map":{"version":3,"names":["CalendarListComponent","constructor","partDay","source","$container","_selectedListener","on","event","toggleClass","selected","_removeListener","remove","bind","render","$parent","appendDiv","data","addClass","item","cssClass","_selected","mousedown","_onMouseDown","_onContextMenu","html","_description","preventDefault","$part","$","delegateTarget","updateSelectedComponent","removeListener"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/calendar/CalendarListComponent.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\n\n/**\n * Calendar component as used in the list panel of the calendar.\n * Delegates most functions to the CalendarComponent instance used as source.\n * It's important we clean-up the registered listeners on the model-adapter, since\n * new instances of CalendarListComponent are created every time we click on a date\n * in the calendar, but the CalendarComponent instance is always the same.\n */\nexport default class CalendarListComponent {\n\n  constructor(partDay, source) {\n    this.partDay = partDay;\n    this.source = source;\n    this.$container = null;\n    this._selectedListener = source.on('selected', event => {\n      this.$container.toggleClass('comp-selected', event.selected);\n    });\n    this._removeListener = source.on('remove', this.remove.bind(this));\n  }\n\n  render($parent) {\n    let source = this.source;\n    this.$container = $parent\n      .appendDiv('calendar-component')\n      .data('partDay', this.partDay)\n      .addClass(source.item.cssClass)\n      .toggleClass('comp-selected', source._selected)\n      .mousedown(this._onMouseDown.bind(this, source))\n      .on('contextmenu', source._onContextMenu.bind(source));\n    this.$container.appendDiv('calendar-component-leftcolorborder');\n    this.$container.appendDiv('content')\n      .html(source._description());\n  }\n\n  /**\n   * Prevent list-component from gaining focus (*1). Since the component is removed/rendered\n   * after the click the focus would be on the body afterwards #222862.\n   */\n  _onMouseDown(source, event) {\n    event.preventDefault(); // *1\n    let $part = $(event.delegateTarget);\n    source.updateSelectedComponent($part, true);\n  }\n\n  remove() {\n    this.source.removeListener(this._selectedListener);\n    this.source.removeListener(this._removeListener);\n    this.$container.remove();\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMA,qBAAqB,CAAC;EAEzCC,WAAW,CAACC,OAAO,EAAEC,MAAM,EAAE;IAC3B,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,iBAAiB,GAAGF,MAAM,CAACG,EAAE,CAAC,UAAU,EAAEC,KAAK,IAAI;MACtD,IAAI,CAACH,UAAU,CAACI,WAAW,CAAC,eAAe,EAAED,KAAK,CAACE,QAAQ,CAAC;IAC9D,CAAC,CAAC;IACF,IAAI,CAACC,eAAe,GAAGP,MAAM,CAACG,EAAE,CAAC,QAAQ,EAAE,IAAI,CAACK,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EACpE;EAEAC,MAAM,CAACC,OAAO,EAAE;IACd,IAAIX,MAAM,GAAG,IAAI,CAACA,MAAM;IACxB,IAAI,CAACC,UAAU,GAAGU,OAAO,CACtBC,SAAS,CAAC,oBAAoB,CAAC,CAC/BC,IAAI,CAAC,SAAS,EAAE,IAAI,CAACd,OAAO,CAAC,CAC7Be,QAAQ,CAACd,MAAM,CAACe,IAAI,CAACC,QAAQ,CAAC,CAC9BX,WAAW,CAAC,eAAe,EAAEL,MAAM,CAACiB,SAAS,CAAC,CAC9CC,SAAS,CAAC,IAAI,CAACC,YAAY,CAACV,IAAI,CAAC,IAAI,EAAET,MAAM,CAAC,CAAC,CAC/CG,EAAE,CAAC,aAAa,EAAEH,MAAM,CAACoB,cAAc,CAACX,IAAI,CAACT,MAAM,CAAC,CAAC;IACxD,IAAI,CAACC,UAAU,CAACW,SAAS,CAAC,oCAAoC,CAAC;IAC/D,IAAI,CAACX,UAAU,CAACW,SAAS,CAAC,SAAS,CAAC,CACjCS,IAAI,CAACrB,MAAM,CAACsB,YAAY,EAAE,CAAC;EAChC;;EAEA;AACF;AACA;AACA;EACEH,YAAY,CAACnB,MAAM,EAAEI,KAAK,EAAE;IAC1BA,KAAK,CAACmB,cAAc,EAAE,CAAC,CAAC;IACxB,IAAIC,KAAK,GAAGC,CAAC,CAACrB,KAAK,CAACsB,cAAc,CAAC;IACnC1B,MAAM,CAAC2B,uBAAuB,CAACH,KAAK,EAAE,IAAI,CAAC;EAC7C;EAEAhB,MAAM,GAAG;IACP,IAAI,CAACR,MAAM,CAAC4B,cAAc,CAAC,IAAI,CAAC1B,iBAAiB,CAAC;IAClD,IAAI,CAACF,MAAM,CAAC4B,cAAc,CAAC,IAAI,CAACrB,eAAe,CAAC;IAChD,IAAI,CAACN,UAAU,CAACO,MAAM,EAAE;EAC1B;AACF"},"metadata":{},"sourceType":"module"}