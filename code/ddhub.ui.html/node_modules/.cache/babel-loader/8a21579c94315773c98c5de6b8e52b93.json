{"ast":null,"code":"/*\n * Copyright (c) 2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, Widget } from '../index';\nexport default class PopupManager extends Widget {\n  constructor() {\n    super();\n    this.popups = [];\n    this._addWidgetProperties(['popups']);\n    this._addPreserveOnPropertyChangeProperties(['popups']);\n  }\n  _init(model) {\n    super._init(model);\n    this.session.layoutValidator.schedulePostValidateFunction(() => {\n      this._openPopups(this.popups);\n    });\n  }\n  setPopups(popups) {\n    this.setProperty('popups', popups);\n  }\n  _setPopups(popups) {\n    this._openPopups(arrays.diff(popups, this.popups));\n    this._destroyPopups(arrays.diff(this.popups, popups));\n    this._setProperty('popups', popups);\n    // re-parent popups, since PopupManager is not a real widget but only used to sync data\n    this.popups.forEach(popup => {\n      if (popup.parent instanceof scout.PopupManager) {\n        popup.setParent(this.session.desktop);\n      }\n    });\n  }\n  _openPopups(popups) {\n    popups.forEach(popup => {\n      popup.open(); // Let the popup itself determine the entry point (important for popup windows)\n    });\n  }\n\n  _destroyPopups(popups) {\n    popups.forEach(popup => {\n      popup.destroy();\n    });\n  }\n}","map":{"version":3,"names":["arrays","Widget","PopupManager","constructor","popups","_addWidgetProperties","_addPreserveOnPropertyChangeProperties","_init","model","session","layoutValidator","schedulePostValidateFunction","_openPopups","setPopups","setProperty","_setPopups","diff","_destroyPopups","_setProperty","forEach","popup","parent","scout","setParent","desktop","open","destroy"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/popup/PopupManager.js"],"sourcesContent":["/*\n * Copyright (c) 2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, Widget} from '../index';\n\nexport default class PopupManager extends Widget {\n\n  constructor() {\n    super();\n    this.popups = [];\n    this._addWidgetProperties(['popups']);\n    this._addPreserveOnPropertyChangeProperties(['popups']);\n  }\n\n  _init(model) {\n    super._init(model);\n    this.session.layoutValidator.schedulePostValidateFunction(() => {\n      this._openPopups(this.popups);\n    });\n  }\n\n  setPopups(popups) {\n    this.setProperty('popups', popups);\n  }\n\n  _setPopups(popups) {\n    this._openPopups(arrays.diff(popups, this.popups));\n    this._destroyPopups(arrays.diff(this.popups, popups));\n    this._setProperty('popups', popups);\n    // re-parent popups, since PopupManager is not a real widget but only used to sync data\n    this.popups.forEach(popup => {\n      if (popup.parent instanceof scout.PopupManager) {\n        popup.setParent(this.session.desktop);\n      }\n    });\n  }\n\n  _openPopups(popups) {\n    popups.forEach(popup => {\n      popup.open(); // Let the popup itself determine the entry point (important for popup windows)\n    });\n  }\n\n  _destroyPopups(popups) {\n    popups.forEach(popup => {\n      popup.destroy();\n    });\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,MAAM,EAAEC,MAAM,QAAO,UAAU;AAEvC,eAAe,MAAMC,YAAY,SAASD,MAAM,CAAC;EAE/CE,WAAW,GAAG;IACZ,KAAK,EAAE;IACP,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,CAAC;IACrC,IAAI,CAACC,sCAAsC,CAAC,CAAC,QAAQ,CAAC,CAAC;EACzD;EAEAC,KAAK,CAACC,KAAK,EAAE;IACX,KAAK,CAACD,KAAK,CAACC,KAAK,CAAC;IAClB,IAAI,CAACC,OAAO,CAACC,eAAe,CAACC,4BAA4B,CAAC,MAAM;MAC9D,IAAI,CAACC,WAAW,CAAC,IAAI,CAACR,MAAM,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEAS,SAAS,CAACT,MAAM,EAAE;IAChB,IAAI,CAACU,WAAW,CAAC,QAAQ,EAAEV,MAAM,CAAC;EACpC;EAEAW,UAAU,CAACX,MAAM,EAAE;IACjB,IAAI,CAACQ,WAAW,CAACZ,MAAM,CAACgB,IAAI,CAACZ,MAAM,EAAE,IAAI,CAACA,MAAM,CAAC,CAAC;IAClD,IAAI,CAACa,cAAc,CAACjB,MAAM,CAACgB,IAAI,CAAC,IAAI,CAACZ,MAAM,EAAEA,MAAM,CAAC,CAAC;IACrD,IAAI,CAACc,YAAY,CAAC,QAAQ,EAAEd,MAAM,CAAC;IACnC;IACA,IAAI,CAACA,MAAM,CAACe,OAAO,CAACC,KAAK,IAAI;MAC3B,IAAIA,KAAK,CAACC,MAAM,YAAYC,KAAK,CAACpB,YAAY,EAAE;QAC9CkB,KAAK,CAACG,SAAS,CAAC,IAAI,CAACd,OAAO,CAACe,OAAO,CAAC;MACvC;IACF,CAAC,CAAC;EACJ;EAEAZ,WAAW,CAACR,MAAM,EAAE;IAClBA,MAAM,CAACe,OAAO,CAACC,KAAK,IAAI;MACtBA,KAAK,CAACK,IAAI,EAAE,CAAC,CAAC;IAChB,CAAC,CAAC;EACJ;;EAEAR,cAAc,CAACb,MAAM,EAAE;IACrBA,MAAM,CAACe,OAAO,CAACC,KAAK,IAAI;MACtBA,KAAK,CAACM,OAAO,EAAE;IACjB,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module"}