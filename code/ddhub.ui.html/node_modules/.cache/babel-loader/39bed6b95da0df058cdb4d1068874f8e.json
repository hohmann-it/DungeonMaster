{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, Event, FormField, HtmlComponent, scout, Status, strings, Widget } from '../../index';\nexport default class FieldStatus extends Widget {\n  constructor() {\n    super();\n    this.tooltip = null;\n    this.contextMenu = null;\n    this.status = null;\n    this.updating = false;\n    this.autoRemove = true;\n    this.position = FormField.StatusPosition.DEFAULT;\n    this._parents = [];\n    this._parentPropertyChangeListener = this._onParentPropertyChange.bind(this);\n    this._parentHierarchyChangeListener = this._onParentHierarchyChange.bind(this);\n  }\n  _render() {\n    this.$container = this.$parent.appendSpan('status').on('mousedown', this._onStatusMouseDown.bind(this));\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n  }\n  _remove() {\n    super._remove();\n    if (this.tooltip) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n    if (this.contextMenu) {\n      this.contextMenu.destroy();\n      this.contextMenu = null;\n    }\n    this._removeParentListeners();\n  }\n  _renderProperties() {\n    super._renderProperties();\n    this._renderPosition();\n  }\n  update(status, menus, autoRemove, showStatus) {\n    this.updating = true;\n    this.setStatus(status);\n    this.setMenus(menus);\n    this.setAutoRemove(autoRemove);\n    this.updating = false;\n    this._updatePopup(showStatus);\n  }\n  clearStatus() {\n    this.setStatus(null);\n  }\n  setStatus(status) {\n    this.setProperty('status', status);\n  }\n  _setStatus(status) {\n    status = Status.ensure(status);\n    this._setProperty('status', status);\n  }\n  _renderStatus() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n  setPosition(position) {\n    this.setProperty('position', position);\n  }\n  _renderPosition() {\n    this.$container.toggleClass('top', this.position === FormField.StatusPosition.TOP);\n    this.invalidateLayoutTree();\n  }\n  _renderVisible() {\n    super._renderVisible();\n    if (!this.visible) {\n      this.hidePopup();\n    }\n  }\n  setMenus(menus) {\n    this.setProperty('menus', arrays.ensure(menus));\n  }\n  _renderMenus() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n  setAutoRemove(autoRemove) {\n    this.setProperty('autoRemove', autoRemove);\n  }\n  _renderAutoRemove() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n  hideTooltip() {\n    let event = new Event();\n    if (this.tooltip) {\n      this.trigger('hideTooltip', event);\n      if (!event.defaultPrevented) {\n        this.tooltip.destroy();\n        this._removeParentListeners();\n      }\n    }\n  }\n  _updatePopup(showStatus) {\n    if (!this._requiresTooltip()) {\n      this.hideTooltip();\n    }\n    if (arrays.empty(this.menus)) {\n      this.hideContextMenu();\n    }\n    if (showStatus === true) {\n      this.showTooltip();\n    } else if (showStatus === false) {\n      this.hideTooltip();\n    }\n  }\n  _requiresTooltip() {\n    if (!this.status || !this.rendered) {\n      return false;\n    }\n    if (arrays.empty(this.menus) && !strings.hasText(this.status.message)) {\n      return false;\n    }\n    return true;\n  }\n  showTooltip() {\n    if (!this._requiresTooltip()) {\n      return;\n    }\n    let event = new Event();\n    this.trigger('showTooltip', event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    this._updateParentListeners();\n    this.hideContextMenu();\n    if (this.tooltip && this.tooltip.autoRemove !== this.autoRemove) {\n      // close\n      this.hideTooltip();\n    }\n    if (this.tooltip) {\n      // update existing tooltip\n      this.tooltip.setText(this.status.message);\n      this.tooltip.setSeverity(this.status.severity);\n      this.tooltip.setMenus(this.menus);\n    } else {\n      this.tooltip = scout.create('Tooltip', {\n        parent: this,\n        $anchor: this.$container,\n        text: this.status.message,\n        severity: this.status.severity,\n        autoRemove: this.autoRemove,\n        menus: this.menus\n      });\n      this.tooltip.render();\n      this.$container.addClass('selected');\n      this.tooltip.one('destroy', () => {\n        this.tooltip = null;\n        if (this.$container) {\n          this.$container.removeClass('selected');\n        }\n      });\n    }\n  }\n  hideContextMenu() {\n    if (this.contextMenu) {\n      this.contextMenu.close();\n    }\n  }\n  showContextMenu() {\n    if (arrays.empty(this.menus)) {\n      // at least one menu item must be visible\n      return;\n    }\n    // close both contextMenu and status tooltip\n    this.hidePopup();\n\n    // Context menu must be removed immediately before it can be opened because cloneMenuItems is false\n    if (this.contextMenu && this.contextMenu.isRemovalPending()) {\n      this.contextMenu.removeImmediately();\n    }\n    this.contextMenu = scout.create('ContextMenuPopup', {\n      parent: this,\n      $anchor: this.$container,\n      menuItems: this.menus,\n      cloneMenuItems: false,\n      closeOnAnchorMouseDown: false\n    });\n    this.contextMenu.open();\n    this.$container.addClass('selected');\n    this.contextMenu.one('destroy', () => {\n      this.contextMenu = null;\n      if (this.$container) {\n        this.$container.removeClass('selected');\n      }\n    });\n  }\n  hidePopup() {\n    this.hideTooltip();\n    this.hideContextMenu();\n  }\n  togglePopup() {\n    if (this.status) {\n      // ensure context menu closed\n      this.hideContextMenu();\n      this.toggleTooltip();\n      return;\n    }\n    if (!arrays.empty(this.menus)) {\n      this.hideTooltip();\n      this.session.onRequestsDone(() => {\n        if (!this.rendered) {\n          // check needed because function is called asynchronously\n          return;\n        }\n        this.toggleContextMenu();\n      });\n    } else {\n      // close all\n      this.hidePopup();\n    }\n  }\n  toggleTooltip() {\n    if (this.tooltip) {\n      this.hideTooltip();\n    } else {\n      this.showTooltip();\n    }\n  }\n  toggleContextMenu() {\n    if (this.contextMenu) {\n      this.hideContextMenu();\n    } else {\n      this.showContextMenu();\n    }\n  }\n  _onStatusMouseDown(event) {\n    this.trigger('statusMouseDown', event);\n    if (!event.defaultPrevented) {\n      this.togglePopup();\n    }\n  }\n  _updateTooltipVisibility(parent) {\n    if (this.isEveryParentVisible()) {\n      /* We must use a timeout here, because the propertyChange event for the visible property\n       * is triggered before the _renderVisible() function is called. Which means the DOM is still\n       * invisible, thus the tooltip cannot be rendered. Because of the timeout we must double-check\n       * the state of the FieldStatus, because it could have been removed in the meantime.\n       */\n      setTimeout(() => {\n        if (!this.rendered || !this.isEveryParentVisible()) {\n          return;\n        }\n        if (this.tooltip && !this.tooltip.rendered) {\n          this.tooltip.render();\n        }\n      });\n    } else {\n      if (this.tooltip && this.tooltip.rendered) {\n        this.tooltip.remove();\n      }\n    }\n  }\n  _onParentHierarchyChange(event) {\n    // If the parent of a widget we're listening to changes, we must re-check the parent hierarchy\n    // and re-install the property change listener\n    this._updateParentListeners();\n  }\n  _onParentPropertyChange(event) {\n    if ('visible' === event.propertyName) {\n      this._updateTooltipVisibility(event.source);\n    }\n  }\n  _removeParentListeners() {\n    this._parents.forEach(parent => {\n      parent.off('hierarchyChange', this._parentHierarchyChangeListener);\n      parent.off('propertyChange', this._parentPropertyChangeListener);\n    });\n    this._parents = [];\n  }\n\n  /**\n   * Adds a property change listener to every parent of the field status. We keep a list of all parents because\n   * we need to remove the listeners later, also when the parent hierarchy has changed.\n   */\n  _updateParentListeners() {\n    this._removeParentListeners();\n    let parent = this.parent;\n    while (parent) {\n      parent.on('hierarchyChange', this._parentHierarchyChangeListener);\n      parent.on('propertyChange', this._parentPropertyChangeListener);\n      this._parents.push(parent);\n      parent = parent.parent;\n    }\n  }\n}","map":{"version":3,"names":["arrays","Event","FormField","HtmlComponent","scout","Status","strings","Widget","FieldStatus","constructor","tooltip","contextMenu","status","updating","autoRemove","position","StatusPosition","DEFAULT","_parents","_parentPropertyChangeListener","_onParentPropertyChange","bind","_parentHierarchyChangeListener","_onParentHierarchyChange","_render","$container","$parent","appendSpan","on","_onStatusMouseDown","htmlComp","install","session","_remove","destroy","_removeParentListeners","_renderProperties","_renderPosition","update","menus","showStatus","setStatus","setMenus","setAutoRemove","_updatePopup","clearStatus","setProperty","_setStatus","ensure","_setProperty","_renderStatus","setPosition","toggleClass","TOP","invalidateLayoutTree","_renderVisible","visible","hidePopup","_renderMenus","_renderAutoRemove","hideTooltip","event","trigger","defaultPrevented","_requiresTooltip","empty","hideContextMenu","showTooltip","rendered","hasText","message","_updateParentListeners","setText","setSeverity","severity","create","parent","$anchor","text","render","addClass","one","removeClass","close","showContextMenu","isRemovalPending","removeImmediately","menuItems","cloneMenuItems","closeOnAnchorMouseDown","open","togglePopup","toggleTooltip","onRequestsDone","toggleContextMenu","_updateTooltipVisibility","isEveryParentVisible","setTimeout","remove","propertyName","source","forEach","off","push"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/form/fields/FieldStatus.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, Event, FormField, HtmlComponent, scout, Status, strings, Widget} from '../../index';\n\nexport default class FieldStatus extends Widget {\n\n  constructor() {\n    super();\n    this.tooltip = null;\n    this.contextMenu = null;\n    this.status = null;\n    this.updating = false;\n    this.autoRemove = true;\n    this.position = FormField.StatusPosition.DEFAULT;\n\n    this._parents = [];\n    this._parentPropertyChangeListener = this._onParentPropertyChange.bind(this);\n    this._parentHierarchyChangeListener = this._onParentHierarchyChange.bind(this);\n  }\n\n  _render() {\n    this.$container = this.$parent.appendSpan('status')\n      .on('mousedown', this._onStatusMouseDown.bind(this));\n    this.htmlComp = HtmlComponent.install(this.$container, this.session);\n  }\n\n  _remove() {\n    super._remove();\n    if (this.tooltip) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n    if (this.contextMenu) {\n      this.contextMenu.destroy();\n      this.contextMenu = null;\n    }\n    this._removeParentListeners();\n  }\n\n  _renderProperties() {\n    super._renderProperties();\n    this._renderPosition();\n  }\n\n  update(status, menus, autoRemove, showStatus) {\n    this.updating = true;\n    this.setStatus(status);\n    this.setMenus(menus);\n    this.setAutoRemove(autoRemove);\n    this.updating = false;\n    this._updatePopup(showStatus);\n  }\n\n  clearStatus() {\n    this.setStatus(null);\n  }\n\n  setStatus(status) {\n    this.setProperty('status', status);\n  }\n\n  _setStatus(status) {\n    status = Status.ensure(status);\n    this._setProperty('status', status);\n  }\n\n  _renderStatus() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n\n  setPosition(position) {\n    this.setProperty('position', position);\n  }\n\n  _renderPosition() {\n    this.$container.toggleClass('top', this.position === FormField.StatusPosition.TOP);\n    this.invalidateLayoutTree();\n  }\n\n  _renderVisible() {\n    super._renderVisible();\n    if (!this.visible) {\n      this.hidePopup();\n    }\n  }\n\n  setMenus(menus) {\n    this.setProperty('menus', arrays.ensure(menus));\n  }\n\n  _renderMenus() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n\n  setAutoRemove(autoRemove) {\n    this.setProperty('autoRemove', autoRemove);\n  }\n\n  _renderAutoRemove() {\n    if (!this.updating) {\n      this._updatePopup();\n    }\n  }\n\n  hideTooltip() {\n    let event = new Event();\n    if (this.tooltip) {\n      this.trigger('hideTooltip', event);\n      if (!event.defaultPrevented) {\n        this.tooltip.destroy();\n        this._removeParentListeners();\n      }\n    }\n  }\n\n  _updatePopup(showStatus) {\n    if (!this._requiresTooltip()) {\n      this.hideTooltip();\n    }\n    if (arrays.empty(this.menus)) {\n      this.hideContextMenu();\n    }\n    if (showStatus === true) {\n      this.showTooltip();\n    } else if (showStatus === false) {\n      this.hideTooltip();\n    }\n  }\n\n  _requiresTooltip() {\n    if (!this.status || !this.rendered) {\n      return false;\n    }\n    if (arrays.empty(this.menus) && !strings.hasText(this.status.message)) {\n      return false;\n    }\n    return true;\n  }\n\n  showTooltip() {\n    if (!this._requiresTooltip()) {\n      return;\n    }\n    let event = new Event();\n    this.trigger('showTooltip', event);\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    this._updateParentListeners();\n    this.hideContextMenu();\n    if (this.tooltip && this.tooltip.autoRemove !== this.autoRemove) {\n      // close\n      this.hideTooltip();\n    }\n    if (this.tooltip) {\n      // update existing tooltip\n      this.tooltip.setText(this.status.message);\n      this.tooltip.setSeverity(this.status.severity);\n      this.tooltip.setMenus(this.menus);\n    } else {\n      this.tooltip = scout.create('Tooltip', {\n        parent: this,\n        $anchor: this.$container,\n        text: this.status.message,\n        severity: this.status.severity,\n        autoRemove: this.autoRemove,\n        menus: this.menus\n      });\n      this.tooltip.render();\n      this.$container.addClass('selected');\n      this.tooltip.one('destroy', () => {\n        this.tooltip = null;\n        if (this.$container) {\n          this.$container.removeClass('selected');\n        }\n      });\n    }\n  }\n\n  hideContextMenu() {\n    if (this.contextMenu) {\n      this.contextMenu.close();\n    }\n  }\n\n  showContextMenu() {\n    if (arrays.empty(this.menus)) {\n      // at least one menu item must be visible\n      return;\n    }\n    // close both contextMenu and status tooltip\n    this.hidePopup();\n\n    // Context menu must be removed immediately before it can be opened because cloneMenuItems is false\n    if (this.contextMenu && this.contextMenu.isRemovalPending()) {\n      this.contextMenu.removeImmediately();\n    }\n\n    this.contextMenu = scout.create('ContextMenuPopup', {\n      parent: this,\n      $anchor: this.$container,\n      menuItems: this.menus,\n      cloneMenuItems: false,\n      closeOnAnchorMouseDown: false\n    });\n    this.contextMenu.open();\n    this.$container.addClass('selected');\n    this.contextMenu.one('destroy', () => {\n      this.contextMenu = null;\n      if (this.$container) {\n        this.$container.removeClass('selected');\n      }\n    });\n  }\n\n  hidePopup() {\n    this.hideTooltip();\n    this.hideContextMenu();\n  }\n\n  togglePopup() {\n    if (this.status) {\n      // ensure context menu closed\n      this.hideContextMenu();\n      this.toggleTooltip();\n      return;\n    }\n    if (!arrays.empty(this.menus)) {\n      this.hideTooltip();\n      this.session.onRequestsDone(() => {\n        if (!this.rendered) { // check needed because function is called asynchronously\n          return;\n        }\n        this.toggleContextMenu();\n      });\n\n    } else {\n      // close all\n      this.hidePopup();\n    }\n  }\n\n  toggleTooltip() {\n    if (this.tooltip) {\n      this.hideTooltip();\n    } else {\n      this.showTooltip();\n    }\n  }\n\n  toggleContextMenu() {\n    if (this.contextMenu) {\n      this.hideContextMenu();\n    } else {\n      this.showContextMenu();\n    }\n  }\n\n  _onStatusMouseDown(event) {\n    this.trigger('statusMouseDown', event);\n    if (!event.defaultPrevented) {\n      this.togglePopup();\n    }\n  }\n\n  _updateTooltipVisibility(parent) {\n    if (this.isEveryParentVisible()) {\n      /* We must use a timeout here, because the propertyChange event for the visible property\n       * is triggered before the _renderVisible() function is called. Which means the DOM is still\n       * invisible, thus the tooltip cannot be rendered. Because of the timeout we must double-check\n       * the state of the FieldStatus, because it could have been removed in the meantime.\n       */\n      setTimeout(() => {\n        if (!this.rendered || !this.isEveryParentVisible()) {\n          return;\n        }\n        if (this.tooltip && !this.tooltip.rendered) {\n          this.tooltip.render();\n        }\n      });\n    } else {\n      if (this.tooltip && this.tooltip.rendered) {\n        this.tooltip.remove();\n      }\n    }\n  }\n\n  _onParentHierarchyChange(event) {\n    // If the parent of a widget we're listening to changes, we must re-check the parent hierarchy\n    // and re-install the property change listener\n    this._updateParentListeners();\n  }\n\n  _onParentPropertyChange(event) {\n    if ('visible' === event.propertyName) {\n      this._updateTooltipVisibility(event.source);\n    }\n  }\n\n  _removeParentListeners() {\n    this._parents.forEach(parent => {\n      parent.off('hierarchyChange', this._parentHierarchyChangeListener);\n      parent.off('propertyChange', this._parentPropertyChangeListener);\n    });\n    this._parents = [];\n  }\n\n  /**\n   * Adds a property change listener to every parent of the field status. We keep a list of all parents because\n   * we need to remove the listeners later, also when the parent hierarchy has changed.\n   */\n  _updateParentListeners() {\n    this._removeParentListeners();\n    let parent = this.parent;\n    while (parent) {\n      parent.on('hierarchyChange', this._parentHierarchyChangeListener);\n      parent.on('propertyChange', this._parentPropertyChangeListener);\n      this._parents.push(parent);\n      parent = parent.parent;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}