{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { arrays, HAlign, scout, SimpleTab } from '../../index';\nexport default class DesktopTab extends SimpleTab {\n  constructor() {\n    super();\n  }\n  _render() {\n    super._render();\n    this.$container.addClass('desktop-tab');\n    this.$container.on('contextmenu', this._onContextMenu.bind(this));\n    this.$container.prependDiv('edge left');\n    this.$container.appendDiv('edge right');\n  }\n  _renderClosable() {\n    super._renderClosable();\n    if (this.closable && this.view.closeKeyStroke) {\n      this.view.closeKeyStroke.renderingHints = {\n        hAlign: HAlign.RIGHT,\n        render: () => !!this.$close,\n        $drawingArea: () => this.$close\n      };\n    }\n  }\n  _onContextMenu(event) {\n    let menuCloseAllTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseAllTabs')\n    });\n    menuCloseAllTabs.on('action', this._onCloseAll.bind(this));\n    let menuCloseOtherTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseOtherTabs'),\n      enabled: this.parent.tabs.length > 1\n    });\n    menuCloseOtherTabs.on('action', this._onCloseOther.bind(this));\n    let popup = scout.create('ContextMenuPopup', {\n      parent: this,\n      menuItems: [menuCloseAllTabs, menuCloseOtherTabs],\n      cloneMenuItems: false,\n      location: {\n        x: event.pageX,\n        y: event.pageY\n      }\n    });\n    popup.open();\n  }\n  _onCloseAll() {\n    let openViews = this.parent.tabs.map(desktopTab => desktopTab.view);\n    this.session.desktop.cancelViews(openViews);\n  }\n  _onCloseOther() {\n    let openViews = this.parent.tabs.map(desktopTab => desktopTab.view);\n    arrays.remove(openViews, this.view);\n    this.session.desktop.cancelViews(openViews);\n  }\n}","map":{"version":3,"names":["arrays","HAlign","scout","SimpleTab","DesktopTab","constructor","_render","$container","addClass","on","_onContextMenu","bind","prependDiv","appendDiv","_renderClosable","closable","view","closeKeyStroke","renderingHints","hAlign","RIGHT","render","$close","$drawingArea","event","menuCloseAllTabs","create","parent","text","session","_onCloseAll","menuCloseOtherTabs","enabled","tabs","length","_onCloseOther","popup","menuItems","cloneMenuItems","location","x","pageX","y","pageY","open","openViews","map","desktopTab","desktop","cancelViews","remove"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/desktoptab/DesktopTab.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {arrays, HAlign, scout, SimpleTab} from '../../index';\n\nexport default class DesktopTab extends SimpleTab {\n\n  constructor() {\n    super();\n  }\n\n  _render() {\n    super._render();\n    this.$container.addClass('desktop-tab');\n    this.$container.on('contextmenu', this._onContextMenu.bind(this));\n    this.$container.prependDiv('edge left');\n    this.$container.appendDiv('edge right');\n  }\n\n  _renderClosable() {\n    super._renderClosable();\n    if (this.closable && this.view.closeKeyStroke) {\n      this.view.closeKeyStroke.renderingHints = {\n        hAlign: HAlign.RIGHT,\n        render: () => !!this.$close,\n        $drawingArea: () => this.$close\n      };\n    }\n  }\n\n  _onContextMenu(event) {\n    let menuCloseAllTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseAllTabs')\n    });\n    menuCloseAllTabs.on('action', this._onCloseAll.bind(this));\n\n    let menuCloseOtherTabs = scout.create('Menu', {\n      parent: this,\n      text: this.session.text('ui.CloseOtherTabs'),\n      enabled: this.parent.tabs.length > 1\n    });\n    menuCloseOtherTabs.on('action', this._onCloseOther.bind(this));\n\n    let popup = scout.create('ContextMenuPopup', {\n      parent: this,\n      menuItems: [menuCloseAllTabs, menuCloseOtherTabs],\n      cloneMenuItems: false,\n      location: {\n        x: event.pageX,\n        y: event.pageY\n      }\n    });\n    popup.open();\n  }\n\n  _onCloseAll() {\n    let openViews = this.parent.tabs.map(desktopTab => desktopTab.view);\n    this.session.desktop.cancelViews(openViews);\n  }\n\n  _onCloseOther() {\n    let openViews = this.parent.tabs.map(desktopTab => desktopTab.view);\n    arrays.remove(openViews, this.view);\n    this.session.desktop.cancelViews(openViews);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}