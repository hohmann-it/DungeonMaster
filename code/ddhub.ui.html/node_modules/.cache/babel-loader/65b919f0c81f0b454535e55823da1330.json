{"ast":null,"code":"/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { DesktopTabBoxController, scout } from '../../index';\n\n/**\n * The {@link {@link scout.HeaderViewTabAreaController}} is used to link the center {@link {@link SimpleTabBox}} (all forms with displayViewId='C')\n * with a {@link {@link SimpleTabArea}} placed in the header.\n * It is an extension of {@link {@link SimpleTabBoxController}}.\n *\n * @see SimpleTabBoxController\n */\nexport default class HeaderTabBoxController extends DesktopTabBoxController {\n  constructor() {\n    super();\n    this.bench = null;\n    this._viewsChangedHandler = this._onViewsChanged.bind(this);\n    this.tabAreaCenter = null;\n    this.tabAreaInHeader = false;\n  }\n  install(bench, tabArea) {\n    this.bench = scout.assertParameter('bench', bench);\n    let tabBoxCenter = this.bench.getTabBox('C');\n    this.tabAreaCenter = tabBoxCenter.tabArea;\n    super.install(tabBoxCenter, tabArea);\n  }\n  _installListeners() {\n    super._installListeners();\n    this.bench.on('viewAdd', this._viewsChangedHandler);\n    this.bench.on('viewRemove', this._viewsChangedHandler);\n  }\n  _onViewsChanged() {\n    if (this.bench.getViews().some(view => 'C' !== view.displayViewId)) {\n      // has views in other view stacks\n      this._setViewTabAreaInHeader(false);\n    } else {\n      // has only views in center\n      this._setViewTabAreaInHeader(true);\n    }\n  }\n  _setViewTabAreaInHeader(inHeader) {\n    this.tabAreaInHeader = inHeader;\n    this.tabAreaCenter.setVisible(!inHeader);\n    this.tabArea.setVisible(inHeader);\n    let desktop = this.tabArea.session.desktop;\n    if (desktop.rendered) {\n      desktop.$container.toggleClass('view-tab-area-in-bench', !inHeader);\n    }\n  }\n  getTabs() {\n    if (this.tabAreaInHeader) {\n      return this.tabArea.getTabs();\n    }\n    return this.tabAreaCenter.getTabs();\n  }\n  _onViewTabSelect(view) {\n    super._onViewTabSelect(view);\n    this.tabArea.updateFirstTabSelected();\n  }\n}","map":{"version":3,"names":["DesktopTabBoxController","scout","HeaderTabBoxController","constructor","bench","_viewsChangedHandler","_onViewsChanged","bind","tabAreaCenter","tabAreaInHeader","install","tabArea","assertParameter","tabBoxCenter","getTabBox","_installListeners","on","getViews","some","view","displayViewId","_setViewTabAreaInHeader","inHeader","setVisible","desktop","session","rendered","$container","toggleClass","getTabs","_onViewTabSelect","updateFirstTabSelected"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/header/HeaderTabBoxController.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2018 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {DesktopTabBoxController, scout} from '../../index';\n\n/**\n * The {@link {@link scout.HeaderViewTabAreaController}} is used to link the center {@link {@link SimpleTabBox}} (all forms with displayViewId='C')\n * with a {@link {@link SimpleTabArea}} placed in the header.\n * It is an extension of {@link {@link SimpleTabBoxController}}.\n *\n * @see SimpleTabBoxController\n */\nexport default class HeaderTabBoxController extends DesktopTabBoxController {\n  constructor() {\n    super();\n\n    this.bench = null;\n    this._viewsChangedHandler = this._onViewsChanged.bind(this);\n\n    this.tabAreaCenter = null;\n    this.tabAreaInHeader = false;\n  }\n\n  install(bench, tabArea) {\n    this.bench = scout.assertParameter('bench', bench);\n\n    let tabBoxCenter = this.bench.getTabBox('C');\n    this.tabAreaCenter = tabBoxCenter.tabArea;\n\n    super.install(tabBoxCenter, tabArea);\n  }\n\n  _installListeners() {\n    super._installListeners();\n    this.bench.on('viewAdd', this._viewsChangedHandler);\n    this.bench.on('viewRemove', this._viewsChangedHandler);\n  }\n\n  _onViewsChanged() {\n    if (this.bench.getViews().some(view => 'C' !== view.displayViewId)) {\n      // has views in other view stacks\n      this._setViewTabAreaInHeader(false);\n    } else {\n      // has only views in center\n      this._setViewTabAreaInHeader(true);\n    }\n  }\n\n  _setViewTabAreaInHeader(inHeader) {\n    this.tabAreaInHeader = inHeader;\n    this.tabAreaCenter.setVisible(!inHeader);\n    this.tabArea.setVisible(inHeader);\n    let desktop = this.tabArea.session.desktop;\n    if (desktop.rendered) {\n      desktop.$container.toggleClass('view-tab-area-in-bench', !inHeader);\n    }\n  }\n\n  getTabs() {\n    if (this.tabAreaInHeader) {\n      return this.tabArea.getTabs();\n    }\n    return this.tabAreaCenter.getTabs();\n  }\n\n  _onViewTabSelect(view) {\n    super._onViewTabSelect(view);\n    this.tabArea.updateFirstTabSelected();\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,uBAAuB,EAAEC,KAAK,QAAO,aAAa;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMC,sBAAsB,SAASF,uBAAuB,CAAC;EAC1EG,WAAW,GAAG;IACZ,KAAK,EAAE;IAEP,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,oBAAoB,GAAG,IAAI,CAACC,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC;IAE3D,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,eAAe,GAAG,KAAK;EAC9B;EAEAC,OAAO,CAACN,KAAK,EAAEO,OAAO,EAAE;IACtB,IAAI,CAACP,KAAK,GAAGH,KAAK,CAACW,eAAe,CAAC,OAAO,EAAER,KAAK,CAAC;IAElD,IAAIS,YAAY,GAAG,IAAI,CAACT,KAAK,CAACU,SAAS,CAAC,GAAG,CAAC;IAC5C,IAAI,CAACN,aAAa,GAAGK,YAAY,CAACF,OAAO;IAEzC,KAAK,CAACD,OAAO,CAACG,YAAY,EAAEF,OAAO,CAAC;EACtC;EAEAI,iBAAiB,GAAG;IAClB,KAAK,CAACA,iBAAiB,EAAE;IACzB,IAAI,CAACX,KAAK,CAACY,EAAE,CAAC,SAAS,EAAE,IAAI,CAACX,oBAAoB,CAAC;IACnD,IAAI,CAACD,KAAK,CAACY,EAAE,CAAC,YAAY,EAAE,IAAI,CAACX,oBAAoB,CAAC;EACxD;EAEAC,eAAe,GAAG;IAChB,IAAI,IAAI,CAACF,KAAK,CAACa,QAAQ,EAAE,CAACC,IAAI,CAACC,IAAI,IAAI,GAAG,KAAKA,IAAI,CAACC,aAAa,CAAC,EAAE;MAClE;MACA,IAAI,CAACC,uBAAuB,CAAC,KAAK,CAAC;IACrC,CAAC,MAAM;MACL;MACA,IAAI,CAACA,uBAAuB,CAAC,IAAI,CAAC;IACpC;EACF;EAEAA,uBAAuB,CAACC,QAAQ,EAAE;IAChC,IAAI,CAACb,eAAe,GAAGa,QAAQ;IAC/B,IAAI,CAACd,aAAa,CAACe,UAAU,CAAC,CAACD,QAAQ,CAAC;IACxC,IAAI,CAACX,OAAO,CAACY,UAAU,CAACD,QAAQ,CAAC;IACjC,IAAIE,OAAO,GAAG,IAAI,CAACb,OAAO,CAACc,OAAO,CAACD,OAAO;IAC1C,IAAIA,OAAO,CAACE,QAAQ,EAAE;MACpBF,OAAO,CAACG,UAAU,CAACC,WAAW,CAAC,wBAAwB,EAAE,CAACN,QAAQ,CAAC;IACrE;EACF;EAEAO,OAAO,GAAG;IACR,IAAI,IAAI,CAACpB,eAAe,EAAE;MACxB,OAAO,IAAI,CAACE,OAAO,CAACkB,OAAO,EAAE;IAC/B;IACA,OAAO,IAAI,CAACrB,aAAa,CAACqB,OAAO,EAAE;EACrC;EAEAC,gBAAgB,CAACX,IAAI,EAAE;IACrB,KAAK,CAACW,gBAAgB,CAACX,IAAI,CAAC;IAC5B,IAAI,CAACR,OAAO,CAACoB,sBAAsB,EAAE;EACvC;AACF"},"metadata":{},"sourceType":"module"}