{"ast":null,"code":"/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { AbstractLayout, graphics, scrollbars, TabBox } from '../../index';\nimport $ from 'jquery';\nexport default class FormTableControlLayout extends AbstractLayout {\n  constructor(control) {\n    super();\n    this.control = control;\n  }\n  layout($container) {\n    if (!this.control.contentRendered || !this.control.form) {\n      return;\n    }\n    let form = this.control.form,\n      htmlForm = form.htmlComp,\n      controlContentSize = graphics.size(this.control.tableFooter.$controlContent),\n      formSize = controlContentSize.subtract(htmlForm.margins());\n    htmlForm.setSize(formSize);\n\n    // special case: when the control is opened/resized and there is not enough space, ensure that the active element is\n    // visible by scrolling to it\n    if (form.rootGroupBox.controls[0] instanceof TabBox) {\n      let tabBox = form.rootGroupBox.controls[0];\n      let tab = tabBox.selectedTab;\n      if (tab && tab.scrollable && document.activeElement && tab.$body.has(document.activeElement)) {\n        scrollbars.scrollTo(tab.$body, $(document.activeElement));\n      }\n    }\n  }\n}","map":{"version":3,"names":["AbstractLayout","graphics","scrollbars","TabBox","$","FormTableControlLayout","constructor","control","layout","$container","contentRendered","form","htmlForm","htmlComp","controlContentSize","size","tableFooter","$controlContent","formSize","subtract","margins","setSize","rootGroupBox","controls","tabBox","tab","selectedTab","scrollable","document","activeElement","$body","has","scrollTo"],"sources":["C:/git/d-d-hub/code/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/table/controls/FormTableControlLayout.js"],"sourcesContent":["/*\n * Copyright (c) 2014-2017 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {AbstractLayout, graphics, scrollbars, TabBox} from '../../index';\nimport $ from 'jquery';\n\nexport default class FormTableControlLayout extends AbstractLayout {\n\n  constructor(control) {\n    super();\n    this.control = control;\n  }\n\n  layout($container) {\n    if (!this.control.contentRendered || !this.control.form) {\n      return;\n    }\n\n    let form = this.control.form,\n      htmlForm = form.htmlComp,\n      controlContentSize = graphics.size(this.control.tableFooter.$controlContent),\n      formSize = controlContentSize.subtract(htmlForm.margins());\n\n    htmlForm.setSize(formSize);\n\n    // special case: when the control is opened/resized and there is not enough space, ensure that the active element is\n    // visible by scrolling to it\n    if (form.rootGroupBox.controls[0] instanceof TabBox) {\n      let tabBox = form.rootGroupBox.controls[0];\n      let tab = tabBox.selectedTab;\n      if (tab && tab.scrollable && document.activeElement && tab.$body.has(document.activeElement)) {\n        scrollbars.scrollTo(tab.$body, $(document.activeElement));\n      }\n    }\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQA,cAAc,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,MAAM,QAAO,aAAa;AACxE,OAAOC,CAAC,MAAM,QAAQ;AAEtB,eAAe,MAAMC,sBAAsB,SAASL,cAAc,CAAC;EAEjEM,WAAW,CAACC,OAAO,EAAE;IACnB,KAAK,EAAE;IACP,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEAC,MAAM,CAACC,UAAU,EAAE;IACjB,IAAI,CAAC,IAAI,CAACF,OAAO,CAACG,eAAe,IAAI,CAAC,IAAI,CAACH,OAAO,CAACI,IAAI,EAAE;MACvD;IACF;IAEA,IAAIA,IAAI,GAAG,IAAI,CAACJ,OAAO,CAACI,IAAI;MAC1BC,QAAQ,GAAGD,IAAI,CAACE,QAAQ;MACxBC,kBAAkB,GAAGb,QAAQ,CAACc,IAAI,CAAC,IAAI,CAACR,OAAO,CAACS,WAAW,CAACC,eAAe,CAAC;MAC5EC,QAAQ,GAAGJ,kBAAkB,CAACK,QAAQ,CAACP,QAAQ,CAACQ,OAAO,EAAE,CAAC;IAE5DR,QAAQ,CAACS,OAAO,CAACH,QAAQ,CAAC;;IAE1B;IACA;IACA,IAAIP,IAAI,CAACW,YAAY,CAACC,QAAQ,CAAC,CAAC,CAAC,YAAYpB,MAAM,EAAE;MACnD,IAAIqB,MAAM,GAAGb,IAAI,CAACW,YAAY,CAACC,QAAQ,CAAC,CAAC,CAAC;MAC1C,IAAIE,GAAG,GAAGD,MAAM,CAACE,WAAW;MAC5B,IAAID,GAAG,IAAIA,GAAG,CAACE,UAAU,IAAIC,QAAQ,CAACC,aAAa,IAAIJ,GAAG,CAACK,KAAK,CAACC,GAAG,CAACH,QAAQ,CAACC,aAAa,CAAC,EAAE;QAC5F3B,UAAU,CAAC8B,QAAQ,CAACP,GAAG,CAACK,KAAK,EAAE1B,CAAC,CAACwB,QAAQ,CAACC,aAAa,CAAC,CAAC;MAC3D;IACF;EACF;AACF"},"metadata":{},"sourceType":"module"}