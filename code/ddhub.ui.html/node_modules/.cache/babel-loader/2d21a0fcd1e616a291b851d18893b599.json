{"ast":null,"code":"/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport { MenuBar, Page, scout } from '../../../index';\nimport $ from 'jquery';\n\n/**\n * @class\n * @extends Page\n */\nexport default class PageWithNodes extends Page {\n  constructor() {\n    super();\n    this.nodeType = Page.NodeType.NODES;\n  }\n\n  /**\n   * @override Page.js\n   */\n  _createDetailTable() {\n    let nodeColumn = scout.create('Column', {\n      id: 'NodeColumn',\n      session: this.session\n    });\n    let table = scout.create('Table', {\n      parent: this.parent,\n      id: 'PageWithNodesTable',\n      autoResizeColumns: true,\n      headerVisible: false,\n      columns: [nodeColumn]\n    });\n    table.menuBar.setPosition(MenuBar.Position.TOP);\n    table.on('rowAction', this._onDetailTableRowAction.bind(this));\n    return table;\n  }\n  _onDetailTableRowAction(event) {\n    this.getOutline().mediator.onTableRowAction(event, this);\n  }\n  _rebuildDetailTable(childPages) {\n    let table = this.detailTable;\n    if (!table) {\n      return;\n    }\n    this._unlinkAllTableRows(table.rows);\n    table.deleteAllRows();\n    let rows = this._createTableRowsForChildPages(childPages);\n    table.insertRows(rows);\n  }\n  _unlinkAllTableRows(rows) {\n    rows.forEach(row => {\n      if (row.page) {\n        row.page.unlinkWithRow(row);\n      }\n    });\n  }\n  _createTableRowsForChildPages(childPages) {\n    return childPages.map(function (childPage) {\n      let row = scout.create('TableRow', {\n        parent: this.detailTable,\n        cells: [childPage.text]\n      });\n      childPage.linkWithRow(row);\n      return row;\n    }, this);\n  }\n\n  /**\n   * @override TreeNode.js\n   */\n  loadChildren() {\n    this.childrenLoaded = false;\n    return this._createChildPages().done(childPages => {\n      this._rebuildDetailTable(childPages);\n      if (childPages.length > 0) {\n        this.getOutline().insertNodes(childPages, this);\n      }\n      this.childrenLoaded = true;\n    });\n  }\n\n  /**\n   * Override this method to create child pages for this page. The default impl. returns an empty array.\n   * @return {$.Deferred}\n   */\n  _createChildPages() {\n    return $.resolvedDeferred(this.childNodes);\n  }\n}","map":{"version":3,"names":["MenuBar","Page","scout","$","PageWithNodes","constructor","nodeType","NodeType","NODES","_createDetailTable","nodeColumn","create","id","session","table","parent","autoResizeColumns","headerVisible","columns","menuBar","setPosition","Position","TOP","on","_onDetailTableRowAction","bind","event","getOutline","mediator","onTableRowAction","_rebuildDetailTable","childPages","detailTable","_unlinkAllTableRows","rows","deleteAllRows","_createTableRowsForChildPages","insertRows","forEach","row","page","unlinkWithRow","map","childPage","cells","text","linkWithRow","loadChildren","childrenLoaded","_createChildPages","done","length","insertNodes","resolvedDeferred","childNodes"],"sources":["C:/workspace/ddhub/ddhub/node_modules/.pnpm/@eclipse-scout+core@22.0.41/node_modules/@eclipse-scout/core/src/desktop/outline/pages/PageWithNodes.js"],"sourcesContent":["/*\n * Copyright (c) 2010-2021 BSI Business Systems Integration AG.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     BSI Business Systems Integration AG - initial API and implementation\n */\nimport {MenuBar, Page, scout} from '../../../index';\nimport $ from 'jquery';\n\n/**\n * @class\n * @extends Page\n */\nexport default class PageWithNodes extends Page {\n\n  constructor() {\n    super();\n\n    this.nodeType = Page.NodeType.NODES;\n  }\n\n  /**\n   * @override Page.js\n   */\n  _createDetailTable() {\n    let nodeColumn = scout.create('Column', {\n      id: 'NodeColumn',\n      session: this.session\n    });\n    let table = scout.create('Table', {\n      parent: this.parent,\n      id: 'PageWithNodesTable',\n      autoResizeColumns: true,\n      headerVisible: false,\n      columns: [nodeColumn]\n    });\n    table.menuBar.setPosition(MenuBar.Position.TOP);\n    table.on('rowAction', this._onDetailTableRowAction.bind(this));\n    return table;\n  }\n\n  _onDetailTableRowAction(event) {\n    this.getOutline().mediator.onTableRowAction(event, this);\n  }\n\n  _rebuildDetailTable(childPages) {\n    let table = this.detailTable;\n    if (!table) {\n      return;\n    }\n    this._unlinkAllTableRows(table.rows);\n    table.deleteAllRows();\n    let rows = this._createTableRowsForChildPages(childPages);\n    table.insertRows(rows);\n  }\n\n  _unlinkAllTableRows(rows) {\n    rows.forEach(row => {\n      if (row.page) {\n        row.page.unlinkWithRow(row);\n      }\n    });\n  }\n\n  _createTableRowsForChildPages(childPages) {\n    return childPages.map(function(childPage) {\n      let row = scout.create('TableRow', {\n        parent: this.detailTable,\n        cells: [childPage.text]\n      });\n      childPage.linkWithRow(row);\n      return row;\n    }, this);\n  }\n\n  /**\n   * @override TreeNode.js\n   */\n  loadChildren() {\n    this.childrenLoaded = false;\n    return this._createChildPages().done(childPages => {\n      this._rebuildDetailTable(childPages);\n      if (childPages.length > 0) {\n        this.getOutline().insertNodes(childPages, this);\n      }\n      this.childrenLoaded = true;\n    });\n  }\n\n  /**\n   * Override this method to create child pages for this page. The default impl. returns an empty array.\n   * @return {$.Deferred}\n   */\n  _createChildPages() {\n    return $.resolvedDeferred(this.childNodes);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}